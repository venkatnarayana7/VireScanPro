import{r as fv,a as dv,g as pv,R as mv,P as hv,b as gv,C as Yp,c as yv,A as vv,S as gu,X as Tv,d as Xp,e as Sv,f as Ev,h as to,L as Oh,Z as yu,G as Fh,B as _v,i as Jh,j as Kp,k as Cv,l as Yh,m as Av,n as xv,F as Nv,T as Xh,o as Le,D as Rv,p as Qp,q as vu,s as bv,E as Kh,U as Mv,M as wv,t as Iv,u as Dv,v as Uv,W as Lv,w as kv,H as Gv,x as Hv,y as zv,z as Vv,I as qv,J as Zp,K as $p,N as Bv,O as Pv}from"./ui-BvO8vtjY.js";import{g as Wp,i as Ov,a as Fv,b as Jv,d as Yv,c as Aa,e as jp,f as Xv,s as Kv,q as Qv,o as Zv,h as $v,j as Wv,k as jv,l as em,m as eT,n as tT,p as nT}from"./firebase-dlOHm-Y5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();var uu={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function iT(){if(tm)return Zl;tm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var h in r)h!=="key"&&(f[h]=r[h])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return Zl.Fragment=t,Zl.jsx=o,Zl.jsxs=o,Zl}var nm;function lT(){return nm||(nm=1,uu.exports=iT()),uu.exports}var C=lT(),cu={exports:{}},$l={},fu={exports:{}},du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function oT(){return im||(im=1,(function(i){function t(I,B){var K=I.length;I.push(B);e:for(;0<K;){var Ae=K-1>>>1,xe=I[Ae];if(0<r(xe,B))I[Ae]=B,I[K]=xe,K=Ae;else break e}}function o(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var B=I[0],K=I.pop();if(K!==B){I[0]=K;e:for(var Ae=0,xe=I.length,Ke=xe>>>1;Ae<Ke;){var Ie=2*(Ae+1)-1,he=I[Ie],Fe=Ie+1,Ot=I[Fe];if(0>r(he,K))Fe<xe&&0>r(Ot,he)?(I[Ae]=Ot,I[Fe]=K,Ae=Fe):(I[Ae]=he,I[Ie]=K,Ae=Ie);else if(Fe<xe&&0>r(Ot,K))I[Ae]=Ot,I[Fe]=K,Ae=Fe;else break e}}return B}function r(I,B){var K=I.sortIndex-B.sortIndex;return K!==0?K:I.id-B.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,h=p.now();i.unstable_now=function(){return p.now()-h}}var y=[],g=[],v=1,S=null,E=3,A=!1,D=!1,G=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function J(I){for(var B=o(g);B!==null;){if(B.callback===null)a(g);else if(B.startTime<=I)a(g),B.sortIndex=B.expirationTime,t(y,B);else break;B=o(g)}}function $(I){if(G=!1,J(I),!D)if(o(y)!==null)D=!0,W||(W=!0,Re());else{var B=o(g);B!==null&&ot($,B.startTime-I)}}var W=!1,Z=-1,le=5,Y=-1;function ie(){return U?!0:!(i.unstable_now()-Y<le)}function ge(){if(U=!1,W){var I=i.unstable_now();Y=I;var B=!0;try{e:{D=!1,G&&(G=!1,P(Z),Z=-1),A=!0;var K=E;try{t:{for(J(I),S=o(y);S!==null&&!(S.expirationTime>I&&ie());){var Ae=S.callback;if(typeof Ae=="function"){S.callback=null,E=S.priorityLevel;var xe=Ae(S.expirationTime<=I);if(I=i.unstable_now(),typeof xe=="function"){S.callback=xe,J(I),B=!0;break t}S===o(y)&&a(y),J(I)}else a(y);S=o(y)}if(S!==null)B=!0;else{var Ke=o(g);Ke!==null&&ot($,Ke.startTime-I),B=!1}}break e}finally{S=null,E=K,A=!1}B=void 0}}finally{B?Re():W=!1}}}var Re;if(typeof V=="function")Re=function(){V(ge)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Oe=ye.port2;ye.port1.onmessage=ge,Re=function(){Oe.postMessage(null)}}else Re=function(){q(ge,0)};function ot(I,B){Z=q(function(){I(i.unstable_now())},B)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(I){switch(E){case 1:case 2:case 3:var B=3;break;default:B=E}var K=E;E=B;try{return I()}finally{E=K}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=E;E=I;try{return B()}finally{E=K}},i.unstable_scheduleCallback=function(I,B,K){var Ae=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Ae+K:Ae):K=Ae,I){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=K+xe,I={id:v++,callback:B,priorityLevel:I,startTime:K,expirationTime:xe,sortIndex:-1},K>Ae?(I.sortIndex=K,t(g,I),o(y)===null&&I===o(g)&&(G?(P(Z),Z=-1):G=!0,ot($,K-Ae))):(I.sortIndex=xe,t(y,I),D||A||(D=!0,W||(W=!0,Re()))),I},i.unstable_shouldYield=ie,i.unstable_wrapCallback=function(I){var B=E;return function(){var K=E;E=B;try{return I.apply(this,arguments)}finally{E=K}}}})(du)),du}var lm;function aT(){return lm||(lm=1,fu.exports=oT()),fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function sT(){if(om)return $l;om=1;var i=aT(),t=fv(),o=dv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===l){T=!0,l=d,s=m;break}if(_===s){T=!0,s=d,l=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===l){T=!0,l=m,s=d;break}if(_===s){T=!0,s=m,l=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),V=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case q:return"Profiler";case U:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case V:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Oe(e.type)||"Memo";case le:n=e._payload,e=e._init;try{return Oe(e(n))}catch{}}return null}var ot=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Ae=[],xe=-1;function Ke(e){return{current:e}}function Ie(e){0>xe||(e.current=Ae[xe],Ae[xe]=null,xe--)}function he(e,n){xe++,Ae[xe]=e.current,e.current=n}var Fe=Ke(null),Ot=Ke(null),yn=Ke(null),io=Ke(null);function lo(e,n){switch(he(yn,n),he(Ot,e),he(Fe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hp(n),e=gp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ie(Fe),he(Fe,e)}function fi(){Ie(Fe),Ie(Ot),Ie(yn)}function Fa(e){e.memoizedState!==null&&he(io,e);var n=Fe.current,l=gp(n,e.type);n!==l&&(he(Ot,e),he(Fe,l))}function oo(e){Ot.current===e&&(Ie(Fe),Ie(Ot)),io.current===e&&(Ie(io),Yl._currentValue=K)}var Ja,Fu;function Fn(e){if(Ja===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ja=n&&n[1]||"",Fu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+e+Fu}var Ya=!1;function Xa(e,n){if(!e||Ya)return"";Ya=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(L){var w=L}Reflect.construct(e,[],z)}else{try{z.call()}catch(L){w=L}e.call(z.prototype)}}else{try{throw Error()}catch(L){w=L}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(L){if(L&&w&&typeof L.stack=="string")return[L.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var x=T.split(`
`),M=_.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===M.length)for(s=x.length-1,d=M.length-1;1<=s&&0<=d&&x[s]!==M[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==M[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==M[d]){var k=`
`+x[s].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=s&&0<=d);break}}}finally{Ya=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Fn(l):""}function Pg(e,n){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return e.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Xa(e.type,!1);case 11:return Xa(e.type.render,!1);case 1:return Xa(e.type,!0);case 31:return Fn("Activity");default:return""}}function Ju(e){try{var n="",l=null;do n+=Pg(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ka=Object.prototype.hasOwnProperty,Qa=i.unstable_scheduleCallback,Za=i.unstable_cancelCallback,Og=i.unstable_shouldYield,Fg=i.unstable_requestPaint,pt=i.unstable_now,Jg=i.unstable_getCurrentPriorityLevel,Yu=i.unstable_ImmediatePriority,Xu=i.unstable_UserBlockingPriority,ao=i.unstable_NormalPriority,Yg=i.unstable_LowPriority,Ku=i.unstable_IdlePriority,Xg=i.log,Kg=i.unstable_setDisableYieldValue,ll=null,mt=null;function vn(e){if(typeof Xg=="function"&&Kg(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(ll,e)}catch{}}var ht=Math.clz32?Math.clz32:$g,Qg=Math.log,Zg=Math.LN2;function $g(e){return e>>>=0,e===0?32:31-(Qg(e)/Zg|0)|0}var so=256,ro=262144,uo=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function co(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Jn(s):(T&=_,T!==0?d=Jn(T):l||(l=_&~e,l!==0&&(d=Jn(l))))):(_=s&~m,_!==0?d=Jn(_):T!==0?d=Jn(T):l||(l=s&~e,l!==0&&(d=Jn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function ol(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Wg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var e=uo;return uo<<=1,(uo&62914560)===0&&(uo=4194304),e}function $a(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function al(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jg(e,n,l,s,d,m){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,M=e.hiddenUpdates;for(l=T&~l;0<l;){var k=31-ht(l),z=1<<k;_[k]=0,x[k]=-1;var w=M[k];if(w!==null)for(M[k]=null,k=0;k<w.length;k++){var L=w[k];L!==null&&(L.lane&=-536870913)}l&=~z}s!==0&&Zu(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function Zu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-ht(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function $u(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-ht(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function Wu(e,n){var l=n&-n;return l=(l&42)!==0?1:Wa(l),(l&(e.suspendedLanes|n))!==0?0:l}function Wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ju(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function ec(e,n){var l=B.p;try{return B.p=e,n()}finally{B.p=l}}var Tn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Tn,at="__reactProps$"+Tn,di="__reactContainer$"+Tn,es="__reactEvents$"+Tn,e0="__reactListeners$"+Tn,t0="__reactHandles$"+Tn,tc="__reactResources$"+Tn,sl="__reactMarker$"+Tn;function ts(e){delete e[Qe],delete e[at],delete e[es],delete e[e0],delete e[t0]}function pi(e){var n=e[Qe];if(n)return n;for(var l=e.parentNode;l;){if(n=l[di]||l[Qe]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Cp(e);e!==null;){if(l=e[Qe])return l;e=Cp(e)}return n}e=l,l=e.parentNode}return null}function mi(e){if(e=e[Qe]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function rl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[tc];return n||(n=e[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Je(e){e[sl]=!0}var nc=new Set,ic={};function Yn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(ic[e]=n,e=0;e<n.length;e++)nc.add(n[e])}var n0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},oc={};function i0(e){return Ka.call(oc,e)?!0:Ka.call(lc,e)?!1:n0.test(e)?oc[e]=!0:(lc[e]=!0,!1)}function fo(e,n,l){if(i0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function po(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Qt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ac(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function l0(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){if(!e._valueTracker){var n=ac(e)?"checked":"value";e._valueTracker=l0(e,n,""+e[n])}}function sc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=ac(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var o0=/[\n"\\]/g;function At(e){return e.replace(o0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function is(e,n,l,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ct(n)):e.value!==""+Ct(n)&&(e.value=""+Ct(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ls(e,T,Ct(n)):l!=null?ls(e,T,Ct(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ct(_):e.removeAttribute("name")}function rc(e,n,l,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ns(e);return}l=l!=null?""+Ct(l):"",n=n!=null?""+Ct(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ns(e)}function ls(e,n,l){n==="number"&&mo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function yi(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Ct(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function uc(e,n,l){if(n!=null&&(n=""+Ct(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Ct(l):""}function cc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(ot(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Ct(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ns(e)}function vi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var a0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||a0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function dc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&fc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&fc(e,m,n[m])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return r0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var as=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Si=null;function pc(e){var n=mi(e);if(n&&(e=n.stateNode)){var l=e[at]||null;e:switch(e=n.stateNode,n.type){case"input":if(is(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+At(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[at]||null;if(!d)throw Error(a(90));is(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&sc(s)}break e;case"textarea":uc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&yi(e,!!l.multiple,n,!1)}}}var rs=!1;function mc(e,n,l){if(rs)return e(n,l);rs=!0;try{var s=e(n);return s}finally{if(rs=!1,(Ti!==null||Si!==null)&&(na(),Ti&&(n=Ti,e=Si,Si=Ti=null,pc(n),e)))for(n=0;n<e.length;n++)pc(e[n])}}function ul(e,n){var l=e.stateNode;if(l===null)return null;var s=l[at]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if($t)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){us=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{us=!1}var Sn=null,cs=null,go=null;function hc(){if(go)return go;var e,n=cs,l=n.length,s,d="value"in Sn?Sn.value:Sn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===d[m-s];s++);return go=d.slice(e,1<s?1-s:void 0)}function yo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function gc(){return!1}function st(e){function n(l,s,d,m,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vo:gc,this.isPropagationStopped=gc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),n}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=st(Xn),fl=S({},Xn,{view:0,detail:0}),u0=st(fl),fs,ds,dl,So=S({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(fs=e.screenX-dl.screenX,ds=e.screenY-dl.screenY):ds=fs=0,dl=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),yc=st(So),c0=S({},So,{dataTransfer:0}),f0=st(c0),d0=S({},fl,{relatedTarget:0}),ps=st(d0),p0=S({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),m0=st(p0),h0=S({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g0=st(h0),y0=S({},Xn,{data:0}),vc=st(y0),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=S0[e])?!!n[e]:!1}function ms(){return E0}var _0=S({},fl,{key:function(e){if(e.key){var n=v0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C0=st(_0),A0=S({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=st(A0),x0=S({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),N0=st(x0),R0=S({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=st(R0),M0=S({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w0=st(M0),I0=S({},Xn,{newState:0,oldState:0}),D0=st(I0),U0=[9,13,27,32],hs=$t&&"CompositionEvent"in window,pl=null;$t&&"documentMode"in document&&(pl=document.documentMode);var L0=$t&&"TextEvent"in window&&!pl,Sc=$t&&(!hs||pl&&8<pl&&11>=pl),Ec=" ",_c=!1;function Cc(e,n){switch(e){case"keyup":return U0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function k0(e,n){switch(e){case"compositionend":return Ac(n);case"keypress":return n.which!==32?null:(_c=!0,Ec);case"textInput":return e=n.data,e===Ec&&_c?null:e;default:return null}}function G0(e,n){if(Ei)return e==="compositionend"||!hs&&Cc(e,n)?(e=hc(),go=cs=Sn=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sc&&n.locale!=="ko"?null:n.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!H0[e.type]:n==="textarea"}function Nc(e,n,l,s){Ti?Si?Si.push(s):Si=[s]:Ti=s,n=ua(n,"onChange"),0<n.length&&(l=new To("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var ml=null,hl=null;function z0(e){up(e,0)}function Eo(e){var n=rl(e);if(sc(n))return e}function Rc(e,n){if(e==="change")return n}var bc=!1;if($t){var gs;if($t){var ys="oninput"in document;if(!ys){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),ys=typeof Mc.oninput=="function"}gs=ys}else gs=!1;bc=gs&&(!document.documentMode||9<document.documentMode)}function wc(){ml&&(ml.detachEvent("onpropertychange",Ic),hl=ml=null)}function Ic(e){if(e.propertyName==="value"&&Eo(hl)){var n=[];Nc(n,hl,e,ss(e)),mc(z0,n)}}function V0(e,n,l){e==="focusin"?(wc(),ml=n,hl=l,ml.attachEvent("onpropertychange",Ic)):e==="focusout"&&wc()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(hl)}function B0(e,n){if(e==="click")return Eo(n)}function P0(e,n){if(e==="input"||e==="change")return Eo(n)}function O0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gt=typeof Object.is=="function"?Object.is:O0;function gl(e,n){if(gt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Ka.call(n,d)||!gt(e[d],n[d]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uc(e,n){var l=Dc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dc(l)}}function Lc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mo(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=mo(e.document)}return n}function vs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var F0=$t&&"documentMode"in document&&11>=document.documentMode,_i=null,Ts=null,yl=null,Ss=!1;function Gc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ss||_i==null||_i!==mo(s)||(s=_i,"selectionStart"in s&&vs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yl&&gl(yl,s)||(yl=s,s=ua(Ts,"onSelect"),0<s.length&&(n=new To("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=_i)))}function Kn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ci={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Es={},Hc={};$t&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Qn(e){if(Es[e])return Es[e];if(!Ci[e])return e;var n=Ci[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Hc)return Es[e]=n[l];return e}var zc=Qn("animationend"),Vc=Qn("animationiteration"),qc=Qn("animationstart"),J0=Qn("transitionrun"),Y0=Qn("transitionstart"),X0=Qn("transitioncancel"),Bc=Qn("transitionend"),Pc=new Map,_s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_s.push("scrollEnd");function Gt(e,n){Pc.set(e,n),Yn(n,[e])}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xt=[],Ai=0,Cs=0;function Co(){for(var e=Ai,n=Cs=Ai=0;n<e;){var l=xt[n];xt[n++]=null;var s=xt[n];xt[n++]=null;var d=xt[n];xt[n++]=null;var m=xt[n];if(xt[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&Oc(l,d,m)}}function Ao(e,n,l,s){xt[Ai++]=e,xt[Ai++]=n,xt[Ai++]=l,xt[Ai++]=s,Cs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function As(e,n,l,s){return Ao(e,n,l,s),xo(e)}function Zn(e,n){return Ao(e,null,null,n),xo(e)}function Oc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-ht(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function xo(e){if(50<Vl)throw Vl=0,Ur=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xi={};function K0(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,n,l,s){return new K0(e,n,l,s)}function xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,n){var l=e.alternate;return l===null?(l=yt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Fc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function No(e,n,l,s,d,m){var T=0;if(s=e,typeof e=="function")xs(e)&&(T=1);else if(typeof e=="string")T=jy(e,l,Fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=yt(31,l,n,d),e.elementType=Y,e.lanes=m,e;case G:return $n(l.children,d,m,n);case U:T=8,d|=24;break;case q:return e=yt(12,l,n,d|2),e.elementType=q,e.lanes=m,e;case $:return e=yt(13,l,n,d),e.elementType=$,e.lanes=m,e;case W:return e=yt(19,l,n,d),e.elementType=W,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:T=10;break e;case P:T=9;break e;case J:T=11;break e;case Z:T=14;break e;case le:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=yt(T,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function $n(e,n,l,s){return e=yt(7,e,s,n),e.lanes=l,e}function Ns(e,n,l){return e=yt(6,e,null,n),e.lanes=l,e}function Jc(e){var n=yt(18,null,null,0);return n.stateNode=e,n}function Rs(e,n,l){return n=yt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Yc=new WeakMap;function Nt(e,n){if(typeof e=="object"&&e!==null){var l=Yc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Ju(n)},Yc.set(e,n),n)}return{value:e,source:n,stack:Ju(n)}}var Ni=[],Ri=0,Ro=null,vl=0,Rt=[],bt=0,En=null,Ft=1,Jt="";function jt(e,n){Ni[Ri++]=vl,Ni[Ri++]=Ro,Ro=e,vl=n}function Xc(e,n,l){Rt[bt++]=Ft,Rt[bt++]=Jt,Rt[bt++]=En,En=e;var s=Ft;e=Jt;var d=32-ht(s)-1;s&=~(1<<d),l+=1;var m=32-ht(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Ft=1<<32-ht(n)+d|l<<d|s,Jt=m+e}else Ft=1<<m|l<<d|s,Jt=e}function bs(e){e.return!==null&&(jt(e,1),Xc(e,1,0))}function Ms(e){for(;e===Ro;)Ro=Ni[--Ri],Ni[Ri]=null,vl=Ni[--Ri],Ni[Ri]=null;for(;e===En;)En=Rt[--bt],Rt[bt]=null,Jt=Rt[--bt],Rt[bt]=null,Ft=Rt[--bt],Rt[bt]=null}function Kc(e,n){Rt[bt++]=Ft,Rt[bt++]=Jt,Rt[bt++]=En,Ft=n.id,Jt=n.overflow,En=e}var Ze=null,be=null,ue=!1,_n=null,Mt=!1,ws=Error(a(519));function Cn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(Nt(n,e)),ws}function Qc(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[Qe]=e,n[at]=s,l){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(l=0;l<Bl.length;l++)ae(Bl[l],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":ae("invalid",n),rc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ae("invalid",n);break;case"textarea":ae("invalid",n),cc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||pp(n.textContent,l)?(s.popover!=null&&(ae("beforetoggle",n),ae("toggle",n)),s.onScroll!=null&&ae("scroll",n),s.onScrollEnd!=null&&ae("scrollend",n),s.onClick!=null&&(n.onclick=Zt),n=!0):n=!1,n||Cn(e,!0)}function Zc(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Ze=Ze.return}}function bi(e){if(e!==Ze)return!1;if(!ue)return Zc(e),ue=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Kr(e.type,e.memoizedProps)),l=!l),l&&be&&Cn(e),Zc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));be=_p(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));be=_p(e)}else n===27?(n=be,Hn(e.type)?(e=jr,jr=null,be=e):be=n):be=Ze?It(e.stateNode.nextSibling):null;return!0}function Wn(){be=Ze=null,ue=!1}function Is(){var e=_n;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),_n=null),e}function Tl(e){_n===null?_n=[e]:_n.push(e)}var Ds=Ke(null),jn=null,en=null;function An(e,n,l){he(Ds,n._currentValue),n._currentValue=l}function tn(e){e._currentValue=Ds.current,Ie(Ds)}function Us(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Ls(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var x=0;x<n.length;x++)if(_.context===n[x]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Us(m.return,l,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Us(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Mi(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;gt(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===io.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}d=d.return}e!==null&&Ls(n,e,l,s),n.flags|=262144}function bo(e){for(e=e.firstContext;e!==null;){if(!gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ei(e){jn=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return $c(jn,e)}function Mo(e,n){return jn===null&&ei(e),$c(e,n)}function $c(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},en===null){if(e===null)throw Error(a(308));en=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else en=en.next=n;return l}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Z0=i.unstable_scheduleCallback,$0=i.unstable_NormalPriority,He={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ks(){return{controller:new Q0,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&Z0($0,function(){e.controller.abort()})}var El=null,Gs=0,wi=0,Ii=null;function W0(e,n){if(El===null){var l=El=[];Gs=0,wi=Vr(),Ii={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Gs++,n.then(Wc,Wc),n}function Wc(){if(--Gs===0&&El!==null){Ii!==null&&(Ii.status="fulfilled");var e=El;El=null,wi=0,Ii=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function j0(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var jc=I.S;I.S=function(e,n){Hd=pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W0(e,n),jc!==null&&jc(e,n)};var ti=Ke(null);function Hs(){var e=ti.current;return e!==null?e:Ne.pooledCache}function wo(e,n){n===null?he(ti,ti.current):he(ti,n.pool)}function ef(){var e=Hs();return e===null?null:{parent:He._currentValue,pool:e}}var Di=Error(a(460)),zs=Error(a(474)),Io=Error(a(542)),Do={then:function(){}};function tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Zt,Zt),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,of(e),e;default:if(typeof n.status=="string")n.then(Zt,Zt);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,of(e),e}throw ii=n,Di}}function ni(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ii=l,Di):l}}var ii=null;function lf(){if(ii===null)throw Error(a(459));var e=ii;return ii=null,e}function of(e){if(e===Di||e===Io)throw Error(a(483))}var Ui=null,_l=0;function Uo(e){var n=_l;return _l+=1,Ui===null&&(Ui=[]),nf(Ui,e,n)}function Cl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lo(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function af(e){function n(R,N){if(e){var b=R.deletions;b===null?(R.deletions=[N],R.flags|=16):b.push(N)}}function l(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=Wt(R,N),R.index=0,R.sibling=null,R}function m(R,N,b){return R.index=b,e?(b=R.alternate,b!==null?(b=b.index,b<N?(R.flags|=67108866,N):b):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function T(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,N,b,H){return N===null||N.tag!==6?(N=Ns(b,R.mode,H),N.return=R,N):(N=d(N,b),N.return=R,N)}function x(R,N,b,H){var Q=b.type;return Q===G?k(R,N,b.props.children,H,b.key):N!==null&&(N.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===le&&ni(Q)===N.type)?(N=d(N,b.props),Cl(N,b),N.return=R,N):(N=No(b.type,b.key,b.props,null,R.mode,H),Cl(N,b),N.return=R,N)}function M(R,N,b,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=Rs(b,R.mode,H),N.return=R,N):(N=d(N,b.children||[]),N.return=R,N)}function k(R,N,b,H,Q){return N===null||N.tag!==7?(N=$n(b,R.mode,H,Q),N.return=R,N):(N=d(N,b),N.return=R,N)}function z(R,N,b){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ns(""+N,R.mode,b),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return b=No(N.type,N.key,N.props,null,R.mode,b),Cl(b,N),b.return=R,b;case D:return N=Rs(N,R.mode,b),N.return=R,N;case le:return N=ni(N),z(R,N,b)}if(ot(N)||Re(N))return N=$n(N,R.mode,b,null),N.return=R,N;if(typeof N.then=="function")return z(R,Uo(N),b);if(N.$$typeof===V)return z(R,Mo(R,N),b);Lo(R,N)}return null}function w(R,N,b,H){var Q=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return Q!==null?null:_(R,N,""+b,H);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return b.key===Q?x(R,N,b,H):null;case D:return b.key===Q?M(R,N,b,H):null;case le:return b=ni(b),w(R,N,b,H)}if(ot(b)||Re(b))return Q!==null?null:k(R,N,b,H,null);if(typeof b.then=="function")return w(R,N,Uo(b),H);if(b.$$typeof===V)return w(R,N,Mo(R,b),H);Lo(R,b)}return null}function L(R,N,b,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(b)||null,_(N,R,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return R=R.get(H.key===null?b:H.key)||null,x(N,R,H,Q);case D:return R=R.get(H.key===null?b:H.key)||null,M(N,R,H,Q);case le:return H=ni(H),L(R,N,b,H,Q)}if(ot(H)||Re(H))return R=R.get(b)||null,k(N,R,H,Q,null);if(typeof H.then=="function")return L(R,N,b,Uo(H),Q);if(H.$$typeof===V)return L(R,N,b,Mo(N,H),Q);Lo(N,H)}return null}function F(R,N,b,H){for(var Q=null,fe=null,X=N,ne=N=0,re=null;X!==null&&ne<b.length;ne++){X.index>ne?(re=X,X=null):re=X.sibling;var de=w(R,X,b[ne],H);if(de===null){X===null&&(X=re);break}e&&X&&de.alternate===null&&n(R,X),N=m(de,N,ne),fe===null?Q=de:fe.sibling=de,fe=de,X=re}if(ne===b.length)return l(R,X),ue&&jt(R,ne),Q;if(X===null){for(;ne<b.length;ne++)X=z(R,b[ne],H),X!==null&&(N=m(X,N,ne),fe===null?Q=X:fe.sibling=X,fe=X);return ue&&jt(R,ne),Q}for(X=s(X);ne<b.length;ne++)re=L(X,R,ne,b[ne],H),re!==null&&(e&&re.alternate!==null&&X.delete(re.key===null?ne:re.key),N=m(re,N,ne),fe===null?Q=re:fe.sibling=re,fe=re);return e&&X.forEach(function(Pn){return n(R,Pn)}),ue&&jt(R,ne),Q}function j(R,N,b,H){if(b==null)throw Error(a(151));for(var Q=null,fe=null,X=N,ne=N=0,re=null,de=b.next();X!==null&&!de.done;ne++,de=b.next()){X.index>ne?(re=X,X=null):re=X.sibling;var Pn=w(R,X,de.value,H);if(Pn===null){X===null&&(X=re);break}e&&X&&Pn.alternate===null&&n(R,X),N=m(Pn,N,ne),fe===null?Q=Pn:fe.sibling=Pn,fe=Pn,X=re}if(de.done)return l(R,X),ue&&jt(R,ne),Q;if(X===null){for(;!de.done;ne++,de=b.next())de=z(R,de.value,H),de!==null&&(N=m(de,N,ne),fe===null?Q=de:fe.sibling=de,fe=de);return ue&&jt(R,ne),Q}for(X=s(X);!de.done;ne++,de=b.next())de=L(X,R,ne,de.value,H),de!==null&&(e&&de.alternate!==null&&X.delete(de.key===null?ne:de.key),N=m(de,N,ne),fe===null?Q=de:fe.sibling=de,fe=de);return e&&X.forEach(function(cv){return n(R,cv)}),ue&&jt(R,ne),Q}function _e(R,N,b,H){if(typeof b=="object"&&b!==null&&b.type===G&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case A:e:{for(var Q=b.key;N!==null;){if(N.key===Q){if(Q=b.type,Q===G){if(N.tag===7){l(R,N.sibling),H=d(N,b.props.children),H.return=R,R=H;break e}}else if(N.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===le&&ni(Q)===N.type){l(R,N.sibling),H=d(N,b.props),Cl(H,b),H.return=R,R=H;break e}l(R,N);break}else n(R,N);N=N.sibling}b.type===G?(H=$n(b.props.children,R.mode,H,b.key),H.return=R,R=H):(H=No(b.type,b.key,b.props,null,R.mode,H),Cl(H,b),H.return=R,R=H)}return T(R);case D:e:{for(Q=b.key;N!==null;){if(N.key===Q)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){l(R,N.sibling),H=d(N,b.children||[]),H.return=R,R=H;break e}else{l(R,N);break}else n(R,N);N=N.sibling}H=Rs(b,R.mode,H),H.return=R,R=H}return T(R);case le:return b=ni(b),_e(R,N,b,H)}if(ot(b))return F(R,N,b,H);if(Re(b)){if(Q=Re(b),typeof Q!="function")throw Error(a(150));return b=Q.call(b),j(R,N,b,H)}if(typeof b.then=="function")return _e(R,N,Uo(b),H);if(b.$$typeof===V)return _e(R,N,Mo(R,b),H);Lo(R,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,N!==null&&N.tag===6?(l(R,N.sibling),H=d(N,b),H.return=R,R=H):(l(R,N),H=Ns(b,R.mode,H),H.return=R,R=H),T(R)):l(R,N)}return function(R,N,b,H){try{_l=0;var Q=_e(R,N,b,H);return Ui=null,Q}catch(X){if(X===Di||X===Io)throw X;var fe=yt(29,X,null,R.mode);return fe.lanes=H,fe.return=R,fe}finally{}}}var li=af(!0),sf=af(!1),xn=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(me&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=xo(e),Oc(e,null,l),n}return Ao(e,s,n,l),xo(e)}function Al(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,$u(e,l)}}function Bs(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Ps=!1;function xl(){if(Ps){var e=Ii;if(e!==null)throw e}}function Nl(e,n,l,s){Ps=!1;var d=e.updateQueue;xn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var x=_,M=x.next;x.next=null,T===null?m=M:T.next=M,T=x;var k=e.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==T&&(_===null?k.firstBaseUpdate=M:_.next=M,k.lastBaseUpdate=x))}if(m!==null){var z=d.baseState;T=0,k=M=x=null,_=m;do{var w=_.lane&-536870913,L=w!==_.lane;if(L?(se&w)===w:(s&w)===w){w!==0&&w===wi&&(Ps=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var F=e,j=_;w=n;var _e=l;switch(j.tag){case 1:if(F=j.payload,typeof F=="function"){z=F.call(_e,z,w);break e}z=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=j.payload,w=typeof F=="function"?F.call(_e,z,w):F,w==null)break e;z=S({},z,w);break e;case 2:xn=!0}}w=_.callback,w!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[w]:L.push(w))}else L={lane:w,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(M=k=L,x=z):k=k.next=L,T|=w;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);k===null&&(x=z),d.baseState=x,d.firstBaseUpdate=M,d.lastBaseUpdate=k,m===null&&(d.shared.lanes=0),Dn|=T,e.lanes=T,e.memoizedState=z}}function rf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function uf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)rf(l[e],n)}var Li=Ke(null),ko=Ke(0);function cf(e,n){e=fn,he(ko,e),he(Li,n),fn=e|n.baseLanes}function Os(){he(ko,fn),he(Li,Li.current)}function Fs(){fn=ko.current,Ie(Li),Ie(ko)}var vt=Ke(null),wt=null;function bn(e){var n=e.alternate;he(ke,ke.current&1),he(vt,e),wt===null&&(n===null||Li.current!==null||n.memoizedState!==null)&&(wt=e)}function Js(e){he(ke,ke.current),he(vt,e),wt===null&&(wt=e)}function ff(e){e.tag===22?(he(ke,ke.current),he(vt,e),wt===null&&(wt=e)):Mn()}function Mn(){he(ke,ke.current),he(vt,vt.current)}function Tt(e){Ie(vt),wt===e&&(wt=null),Ie(ke)}var ke=Ke(0);function Go(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$r(l)||Wr(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nn=0,te=null,Se=null,ze=null,Ho=!1,ki=!1,oi=!1,zo=0,Rl=0,Gi=null,ey=0;function De(){throw Error(a(321))}function Ys(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!gt(e[l],n[l]))return!1;return!0}function Xs(e,n,l,s,d,m){return nn=m,te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Kf:rr,oi=!1,m=l(s,d),oi=!1,ki&&(m=pf(n,l,s,d)),df(e),m}function df(e){I.H=wl;var n=Se!==null&&Se.next!==null;if(nn=0,ze=Se=te=null,Ho=!1,Rl=0,Gi=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&bo(e)&&(Ve=!0))}function pf(e,n,l,s){te=e;var d=0;do{if(ki&&(Gi=null),Rl=0,ki=!1,25<=d)throw Error(a(301));if(d+=1,ze=Se=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=Qf,m=n(l,s)}while(ki);return m}function ty(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?bl(n):n,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(te.flags|=1024),n}function Ks(){var e=zo!==0;return zo=0,e}function Qs(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Zs(e){if(Ho){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ho=!1}nn=0,ze=Se=te=null,ki=!1,Rl=zo=0,Gi=null}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?te.memoizedState=ze=e:ze=ze.next=e,ze}function Ge(){if(Se===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var n=ze===null?te.memoizedState:ze.next;if(n!==null)ze=n,Se=e;else{if(e===null)throw te.alternate===null?Error(a(467)):Error(a(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},ze===null?te.memoizedState=ze=e:ze=ze.next=e}return ze}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(e){var n=Rl;return Rl+=1,Gi===null&&(Gi=[]),e=nf(Gi,e,n),n=te,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Kf:rr),e}function qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===V)return $e(e)}throw Error(a(438,String(e)))}function $s(e){var n=null,l=te.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Vo(),te.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ie;return n.index++,l}function ln(e,n){return typeof n=="function"?n(e):n}function Bo(e){var n=Ge();return Ws(n,Se,e)}function Ws(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,x=null,M=n,k=!1;do{var z=M.lane&-536870913;if(z!==M.lane?(se&z)===z:(nn&z)===z){var w=M.revertLane;if(w===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),z===wi&&(k=!0);else if((nn&w)===w){M=M.next,w===wi&&(k=!0);continue}else z={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(_=x=z,T=m):x=x.next=z,te.lanes|=w,Dn|=w;z=M.action,oi&&l(m,z),m=M.hasEagerState?M.eagerState:l(m,z)}else w={lane:z,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(_=x=w,T=m):x=x.next=w,te.lanes|=z,Dn|=z;M=M.next}while(M!==null&&M!==n);if(x===null?T=m:x.next=_,!gt(m,e.memoizedState)&&(Ve=!0,k&&(l=Ii,l!==null)))throw l;e.memoizedState=m,e.baseState=T,e.baseQueue=x,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var n=Ge(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);gt(m,n.memoizedState)||(Ve=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function mf(e,n,l){var s=te,d=Ge(),m=ue;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!gt((Se||d).memoizedState,l);if(T&&(d.memoizedState=l,Ve=!0),d=d.queue,nr(yf.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,Hi(9,{destroy:void 0},gf.bind(null,s,d,l,n),null),Ne===null)throw Error(a(349));m||(nn&127)!==0||hf(s,n,l)}return l}function hf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=te.updateQueue,n===null?(n=Vo(),te.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function gf(e,n,l,s){n.value=l,n.getSnapshot=s,vf(n)&&Tf(e)}function yf(e,n,l){return l(function(){vf(n)&&Tf(e)})}function vf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!gt(e,l)}catch{return!0}}function Tf(e){var n=Zn(e,2);n!==null&&dt(n,e,2)}function er(e){var n=nt();if(typeof e=="function"){var l=e;if(e=l(),oi){vn(!0);try{l()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},n}function Sf(e,n,l,s){return e.baseState=l,Ws(e,Se,typeof s=="function"?s:ln)}function ny(e,n,l,s,d){if(Fo(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};I.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,Ef(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Ef(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=I.T,T={};I.T=T;try{var _=l(d,s),x=I.S;x!==null&&x(T,_),_f(e,n,_)}catch(M){tr(e,n,M)}finally{m!==null&&T.types!==null&&(m.types=T.types),I.T=m}}else try{m=l(d,s),_f(e,n,m)}catch(M){tr(e,n,M)}}function _f(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Cf(e,n,s)},function(s){return tr(e,n,s)}):Cf(e,n,l)}function Cf(e,n,l){n.status="fulfilled",n.value=l,Af(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Ef(e,l)))}function tr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Af(n),n=n.next;while(n!==s)}e.action=null}function Af(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xf(e,n){return n}function Nf(e,n){if(ue){var l=Ne.formState;if(l!==null){e:{var s=te;if(ue){if(be){t:{for(var d=be,m=Mt;d.nodeType!==8;){if(!m){d=null;break t}if(d=It(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){be=It(d.nextSibling),s=d.data==="F!";break e}}Cn(s)}s=!1}s&&(n=l[0])}}return l=nt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:n},l.queue=s,l=Jf.bind(null,te,s),s.dispatch=l,s=er(!1),m=sr.bind(null,te,!1,s.queue),s=nt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=ny.bind(null,te,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Rf(e){var n=Ge();return bf(n,Se,e)}function bf(e,n,l){if(n=Ws(e,n,xf)[0],e=Bo(ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=bl(n)}catch(T){throw T===Di?Io:T}else s=n;n=Ge();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(te.flags|=2048,Hi(9,{destroy:void 0},iy.bind(null,d,l),null)),[s,m,e]}function iy(e,n){e.action=n}function Mf(e){var n=Ge(),l=Se;if(l!==null)return bf(n,l,e);Ge(),n=n.memoizedState,l=Ge();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Hi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=te.updateQueue,n===null&&(n=Vo(),te.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function wf(){return Ge().memoizedState}function Po(e,n,l,s){var d=nt();te.flags|=e,d.memoizedState=Hi(1|n,{destroy:void 0},l,s===void 0?null:s)}function Oo(e,n,l,s){var d=Ge();s=s===void 0?null:s;var m=d.memoizedState.inst;Se!==null&&s!==null&&Ys(s,Se.memoizedState.deps)?d.memoizedState=Hi(n,m,l,s):(te.flags|=e,d.memoizedState=Hi(1|n,m,l,s))}function If(e,n){Po(8390656,8,e,n)}function nr(e,n){Oo(2048,8,e,n)}function ly(e){te.flags|=4;var n=te.updateQueue;if(n===null)n=Vo(),te.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Df(e){var n=Ge().memoizedState;return ly({ref:n,nextImpl:e}),function(){if((me&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Uf(e,n){return Oo(4,2,e,n)}function Lf(e,n){return Oo(4,4,e,n)}function kf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gf(e,n,l){l=l!=null?l.concat([e]):null,Oo(4,4,kf.bind(null,n,e),l)}function ir(){}function Hf(e,n){var l=Ge();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Ys(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function zf(e,n){var l=Ge();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Ys(n,s[1]))return s[0];if(s=e(),oi){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s}function lr(e,n,l){return l===void 0||(nn&1073741824)!==0&&(se&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Vd(),te.lanes|=e,Dn|=e,l)}function Vf(e,n,l,s){return gt(l,n)?l:Li.current!==null?(e=lr(e,l,s),gt(e,n)||(Ve=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(se&261930)===0?(Ve=!0,e.memoizedState=l):(e=Vd(),te.lanes|=e,Dn|=e,n)}function qf(e,n,l,s,d){var m=B.p;B.p=m!==0&&8>m?m:8;var T=I.T,_={};I.T=_,sr(e,!1,n,l);try{var x=d(),M=I.S;if(M!==null&&M(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var k=j0(x,s);Ml(e,n,k,_t(e))}else Ml(e,n,s,_t(e))}catch(z){Ml(e,n,{then:function(){},status:"rejected",reason:z},_t())}finally{B.p=m,T!==null&&_.types!==null&&(T.types=_.types),I.T=T}}function oy(){}function or(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=Bf(e).queue;qf(e,d,n,K,l===null?oy:function(){return Pf(e),l(s)})}function Bf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:K},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pf(e){var n=Bf(e);n.next===null&&(n=e.alternate.memoizedState),Ml(e,n.next.queue,{},_t())}function ar(){return $e(Yl)}function Of(){return Ge().memoizedState}function Ff(){return Ge().memoizedState}function ay(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=_t();e=Nn(l);var s=Rn(n,e,l);s!==null&&(dt(s,n,l),Al(s,n,l)),n={cache:ks()},e.payload=n;return}n=n.return}}function sy(e,n,l){var s=_t();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fo(e)?Yf(n,l):(l=As(e,n,l,s),l!==null&&(dt(l,e,s),Xf(l,n,s)))}function Jf(e,n,l){var s=_t();Ml(e,n,l,s)}function Ml(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fo(e))Yf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,l);if(d.hasEagerState=!0,d.eagerState=_,gt(_,T))return Ao(e,n,d,0),Ne===null&&Co(),!1}catch{}finally{}if(l=As(e,n,d,s),l!==null)return dt(l,e,s),Xf(l,n,s),!0}return!1}function sr(e,n,l,s){if(s={lane:2,revertLane:Vr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fo(e)){if(n)throw Error(a(479))}else n=As(e,l,s,2),n!==null&&dt(n,e,2)}function Fo(e){var n=e.alternate;return e===te||n!==null&&n===te}function Yf(e,n){ki=Ho=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Xf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,$u(e,l)}}var wl={readContext:$e,use:qo,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};wl.useEffectEvent=De;var Kf={readContext:$e,use:qo,useCallback:function(e,n){return nt().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:If,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Po(4194308,4,kf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Po(4194308,4,e,n)},useInsertionEffect:function(e,n){Po(4,2,e,n)},useMemo:function(e,n){var l=nt();n=n===void 0?null:n;var s=e();if(oi){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=nt();if(l!==void 0){var d=l(n);if(oi){vn(!0);try{l(n)}finally{vn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=sy.bind(null,te,e),[s.memoizedState,e]},useRef:function(e){var n=nt();return e={current:e},n.memoizedState=e},useState:function(e){e=er(e);var n=e.queue,l=Jf.bind(null,te,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:ir,useDeferredValue:function(e,n){var l=nt();return lr(l,e,n)},useTransition:function(){var e=er(!1);return e=qf.bind(null,te,e.queue,!0,!1),nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=te,d=nt();if(ue){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ne===null)throw Error(a(349));(se&127)!==0||hf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,If(yf.bind(null,s,m,e),[e]),s.flags|=2048,Hi(9,{destroy:void 0},gf.bind(null,s,m,l,n),null),l},useId:function(){var e=nt(),n=Ne.identifierPrefix;if(ue){var l=Jt,s=Ft;l=(s&~(1<<32-ht(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=zo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=ey++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ar,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var n=nt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=sr.bind(null,te,!0,l),l.dispatch=n,[e,n]},useMemoCache:$s,useCacheRefresh:function(){return nt().memoizedState=ay.bind(null,te)},useEffectEvent:function(e){var n=nt(),l={impl:e};return n.memoizedState=l,function(){if((me&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},rr={readContext:$e,use:qo,useCallback:Hf,useContext:$e,useEffect:nr,useImperativeHandle:Gf,useInsertionEffect:Uf,useLayoutEffect:Lf,useMemo:zf,useReducer:Bo,useRef:wf,useState:function(){return Bo(ln)},useDebugValue:ir,useDeferredValue:function(e,n){var l=Ge();return Vf(l,Se.memoizedState,e,n)},useTransition:function(){var e=Bo(ln)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:bl(e),n]},useSyncExternalStore:mf,useId:Of,useHostTransitionStatus:ar,useFormState:Rf,useActionState:Rf,useOptimistic:function(e,n){var l=Ge();return Sf(l,Se,e,n)},useMemoCache:$s,useCacheRefresh:Ff};rr.useEffectEvent=Df;var Qf={readContext:$e,use:qo,useCallback:Hf,useContext:$e,useEffect:nr,useImperativeHandle:Gf,useInsertionEffect:Uf,useLayoutEffect:Lf,useMemo:zf,useReducer:js,useRef:wf,useState:function(){return js(ln)},useDebugValue:ir,useDeferredValue:function(e,n){var l=Ge();return Se===null?lr(l,e,n):Vf(l,Se.memoizedState,e,n)},useTransition:function(){var e=js(ln)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:bl(e),n]},useSyncExternalStore:mf,useId:Of,useHostTransitionStatus:ar,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,n){var l=Ge();return Se!==null?Sf(l,Se,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:$s,useCacheRefresh:Ff};Qf.useEffectEvent=Df;function ur(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var cr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=_t(),d=Nn(s);d.payload=n,l!=null&&(d.callback=l),n=Rn(e,d,s),n!==null&&(dt(n,e,s),Al(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=_t(),d=Nn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Rn(e,d,s),n!==null&&(dt(n,e,s),Al(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=_t(),s=Nn(l);s.tag=2,n!=null&&(s.callback=n),n=Rn(e,s,l),n!==null&&(dt(n,e,l),Al(n,e,l))}};function Zf(e,n,l,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!gl(l,s)||!gl(d,m):!0}function $f(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&cr.enqueueReplaceState(n,n.state,null)}function ai(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function Wf(e){_o(e)}function jf(e){console.error(e)}function ed(e){_o(e)}function Jo(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function td(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function fr(e,n,l){return l=Nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Jo(e,n)},l}function nd(e){return e=Nn(e),e.tag=3,e}function id(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){td(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){td(n,l,s),typeof d!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function ry(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Mi(n,l,d,!0),l=vt.current,l!==null){switch(l.tag){case 31:case 13:return wt===null?ia():l.alternate===null&&Ue===0&&(Ue=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Do?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Gr(e,s,d)),!1;case 22:return l.flags|=65536,s===Do?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Gr(e,s,d)),!1}throw Error(a(435,l.tag))}return Gr(e,s,d),ia(),!1}if(ue)return n=vt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==ws&&(e=Error(a(422),{cause:s}),Tl(Nt(e,l)))):(s!==ws&&(n=Error(a(423),{cause:s}),Tl(Nt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Nt(s,l),d=fr(e.stateNode,s,d),Bs(e,d),Ue!==4&&(Ue=2)),!1;var m=Error(a(520),{cause:s});if(m=Nt(m,l),zl===null?zl=[m]:zl.push(m),Ue!==4&&(Ue=2),n===null)return!0;s=Nt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=fr(l.stateNode,s,e),Bs(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=nd(d),id(d,e,l,s),Bs(l,d),!1}l=l.return}while(l!==null);return!1}var dr=Error(a(461)),Ve=!1;function We(e,n,l,s){n.child=e===null?sf(n,null,l,s):li(n,e.child,l,s)}function ld(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return ei(n),s=Xs(e,n,l,T,m,d),_=Ks(),e!==null&&!Ve?(Qs(e,n,d),on(e,n,d)):(ue&&_&&bs(n),n.flags|=1,We(e,n,s,d),n.child)}function od(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!xs(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,ad(e,n,m,s,d)):(e=No(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Sr(e,d)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:gl,l(T,s)&&e.ref===n.ref)return on(e,n,d)}return n.flags|=1,e=Wt(m,s),e.ref=n.ref,e.return=n,n.child=e}function ad(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(gl(m,s)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=s=m,Sr(e,d))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,on(e,n,d)}return pr(e,n,l,s,d)}function sd(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return rd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wo(n,m!==null?m.cachePool:null),m!==null?cf(n,m):Os(),ff(n);else return s=n.lanes=536870912,rd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(wo(n,m.cachePool),cf(n,m),Mn(),n.memoizedState=null):(e!==null&&wo(n,null),Os(),Mn());return We(e,n,d,l),n.child}function Il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function rd(e,n,l,s,d){var m=Hs();return m=m===null?null:{parent:He._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&wo(n,null),Os(),ff(n),e!==null&&Mi(e,n,s,!0),n.childLanes=d,null}function Yo(e,n){return n=Ko({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ud(e,n,l){return li(n,e.child,null,l),e=Yo(n,n.pendingProps),e.flags|=2,Tt(n),n.memoizedState=null,e}function uy(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ue){if(s.mode==="hidden")return e=Yo(n,s),n.lanes=536870912,Il(null,e);if(Js(n),(e=be)?(e=Ep(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Ft,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Jc(e),l.return=n,n.child=l,Ze=n,be=null)):e=null,e===null)throw Cn(n);return n.lanes=536870912,null}return Yo(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Js(n),d)if(n.flags&256)n.flags&=-257,n=ud(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Mi(e,n,l,!1),d=(l&e.childLanes)!==0,Ve||d){if(s=Ne,s!==null&&(T=Wu(s,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,Zn(e,T),dt(s,e,T),dr;ia(),n=ud(e,n,l)}else e=m.treeContext,be=It(T.nextSibling),Ze=n,ue=!0,_n=null,Mt=!1,e!==null&&Kc(n,e),n=Yo(n,s),n.flags|=4096;return n}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xo(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function pr(e,n,l,s,d){return ei(n),l=Xs(e,n,l,s,void 0,d),s=Ks(),e!==null&&!Ve?(Qs(e,n,d),on(e,n,d)):(ue&&s&&bs(n),n.flags|=1,We(e,n,l,d),n.child)}function cd(e,n,l,s,d,m){return ei(n),n.updateQueue=null,l=pf(n,s,l,d),df(e),s=Ks(),e!==null&&!Ve?(Qs(e,n,m),on(e,n,m)):(ue&&s&&bs(n),n.flags|=1,We(e,n,l,m),n.child)}function fd(e,n,l,s,d){if(ei(n),n.stateNode===null){var m=xi,T=l.contextType;typeof T=="object"&&T!==null&&(m=$e(T)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Vs(n),T=l.contextType,m.context=typeof T=="object"&&T!==null?$e(T):xi,m.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(ur(n,l,T,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&cr.enqueueReplaceState(m,m.state,null),Nl(n,s,m,d),xl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,x=ai(l,_);m.props=x;var M=m.context,k=l.contextType;T=xi,typeof k=="object"&&k!==null&&(T=$e(k));var z=l.getDerivedStateFromProps;k=typeof z=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||M!==T)&&$f(n,m,s,T),xn=!1;var w=n.memoizedState;m.state=w,Nl(n,s,m,d),xl(),M=n.memoizedState,_||w!==M||xn?(typeof z=="function"&&(ur(n,l,z,s),M=n.memoizedState),(x=xn||Zf(n,l,x,s,w,M,T))?(k||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=M),m.props=s,m.state=M,m.context=T,s=x):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,qs(e,n),T=n.memoizedProps,k=ai(l,T),m.props=k,z=n.pendingProps,w=m.context,M=l.contextType,x=xi,typeof M=="object"&&M!==null&&(x=$e(M)),_=l.getDerivedStateFromProps,(M=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==z||w!==x)&&$f(n,m,s,x),xn=!1,w=n.memoizedState,m.state=w,Nl(n,s,m,d),xl();var L=n.memoizedState;T!==z||w!==L||xn||e!==null&&e.dependencies!==null&&bo(e.dependencies)?(typeof _=="function"&&(ur(n,l,_,s),L=n.memoizedState),(k=xn||Zf(n,l,k,s,w,L,x)||e!==null&&e.dependencies!==null&&bo(e.dependencies))?(M||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,L,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,L,x)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=L),m.props=s,m.state=L,m.context=x,s=k):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Xo(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=li(n,e.child,null,d),n.child=li(n,null,l,d)):We(e,n,l,d),n.memoizedState=m.state,e=n.child):e=on(e,n,d),e}function dd(e,n,l,s){return Wn(),n.flags|=256,We(e,n,l,s),n.child}var mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(e){return{baseLanes:e,cachePool:ef()}}function gr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Et),e}function pd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(ue){if(d?bn(n):Mn(),(e=be)?(e=Ep(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Ft,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Jc(e),l.return=n,n.child=l,Ze=n,be=null)):e=null,e===null)throw Cn(n);return Wr(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Mn(),d=n.mode,_=Ko({mode:"hidden",children:_},d),s=$n(s,d,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=hr(l),s.childLanes=gr(e,T,l),n.memoizedState=mr,Il(null,s)):(bn(n),yr(n,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(m)n.flags&256?(bn(n),n.flags&=-257,n=vr(e,n,l)):n.memoizedState!==null?(Mn(),n.child=e.child,n.flags|=128,n=null):(Mn(),_=s.fallback,d=n.mode,s=Ko({mode:"visible",children:s.children},d),_=$n(_,d,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,li(n,e.child,null,l),s=n.child,s.memoizedState=hr(l),s.childLanes=gr(e,T,l),n.memoizedState=mr,n=Il(null,s));else if(bn(n),Wr(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var M=T.dgst;T=M,s=Error(a(419)),s.stack="",s.digest=T,Tl({value:s,source:null,stack:null}),n=vr(e,n,l)}else if(Ve||Mi(e,n,l,!1),T=(l&e.childLanes)!==0,Ve||T){if(T=Ne,T!==null&&(s=Wu(T,l),s!==0&&s!==x.retryLane))throw x.retryLane=s,Zn(e,s),dt(T,e,s),dr;$r(_)||ia(),n=vr(e,n,l)}else $r(_)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,be=It(_.nextSibling),Ze=n,ue=!0,_n=null,Mt=!1,e!==null&&Kc(n,e),n=yr(n,s.children),n.flags|=4096);return n}return d?(Mn(),_=s.fallback,d=n.mode,x=e.child,M=x.sibling,s=Wt(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,M!==null?_=Wt(M,_):(_=$n(_,d,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Il(null,s),s=n.child,_=e.child.memoizedState,_===null?_=hr(l):(d=_.cachePool,d!==null?(x=He._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=ef(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=gr(e,T,l),n.memoizedState=mr,Il(e.child,s)):(bn(n),l=e.child,e=l.sibling,l=Wt(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function yr(e,n){return n=Ko({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ko(e,n){return e=yt(22,e,null,n),e.lanes=0,e}function vr(e,n,l){return li(n,e.child,null,l),e=yr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function md(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Us(e.return,n,l)}function Tr(e,n,l,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=d,T.treeForkCount=m)}function hd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=ke.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,he(ke,T),We(e,n,s,l),s=ue?vl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,l,n);else if(e.tag===19)md(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Go(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Tr(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Go(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Tr(n,!0,l,null,m,s);break;case"together":Tr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function on(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Dn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Mi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=Wt(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Wt(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Sr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bo(e)))}function cy(e,n,l){switch(n.tag){case 3:lo(n,n.stateNode.containerInfo),An(n,He,e.memoizedState.cache),Wn();break;case 27:case 5:Fa(n);break;case 4:lo(n,n.stateNode.containerInfo);break;case 10:An(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Js(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(bn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?pd(e,n,l):(bn(n),e=on(e,n,l),e!==null?e.sibling:null);bn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Mi(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return hd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(ke,ke.current),s)break;return null;case 22:return n.lanes=0,sd(e,n,l,n.pendingProps);case 24:An(n,He,e.memoizedState.cache)}return on(e,n,l)}function gd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Sr(e,l)&&(n.flags&128)===0)return Ve=!1,cy(e,n,l);Ve=(e.flags&131072)!==0}else Ve=!1,ue&&(n.flags&1048576)!==0&&Xc(n,vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ni(n.elementType),n.type=e,typeof e=="function")xs(e)?(s=ai(e,s),n.tag=1,n=fd(null,n,e,s,l)):(n.tag=0,n=pr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===J){n.tag=11,n=ld(null,n,e,s,l);break e}else if(d===Z){n.tag=14,n=od(null,n,e,s,l);break e}}throw n=Oe(e)||e,Error(a(306,n,""))}}return n;case 0:return pr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=ai(s,n.pendingProps),fd(e,n,s,d,l);case 3:e:{if(lo(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,qs(e,n),Nl(n,s,null,l);var T=n.memoizedState;if(s=T.cache,An(n,He,s),s!==m.cache&&Ls(n,[He],l,!0),xl(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=dd(e,n,s,l);break e}else if(s!==d){d=Nt(Error(a(424)),n),Tl(d),n=dd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(be=It(e.firstChild),Ze=n,ue=!0,_n=null,Mt=!0,l=sf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wn(),s===d){n=on(e,n,l);break e}We(e,n,s,l)}n=n.child}return n;case 26:return Xo(e,n),e===null?(l=Rp(n.type,null,n.pendingProps,null))?n.memoizedState=l:ue||(l=n.type,e=n.pendingProps,s=ca(yn.current).createElement(l),s[Qe]=n,s[at]=e,je(s,l,e),Je(s),n.stateNode=s):n.memoizedState=Rp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fa(n),e===null&&ue&&(s=n.stateNode=Ap(n.type,n.pendingProps,yn.current),Ze=n,Mt=!0,d=be,Hn(n.type)?(jr=d,be=It(s.firstChild)):be=d),We(e,n,n.pendingProps.children,l),Xo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ue&&((d=s=be)&&(s=qy(s,n.type,n.pendingProps,Mt),s!==null?(n.stateNode=s,Ze=n,be=It(s.firstChild),Mt=!1,d=!0):d=!1),d||Cn(n)),Fa(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Kr(d,m)?s=null:T!==null&&Kr(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=Xs(e,n,ty,null,null,l),Yl._currentValue=d),Xo(e,n),We(e,n,s,l),n.child;case 6:return e===null&&ue&&((e=l=be)&&(l=By(l,n.pendingProps,Mt),l!==null?(n.stateNode=l,Ze=n,be=null,e=!0):e=!1),e||Cn(n)),null;case 13:return pd(e,n,l);case 4:return lo(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=li(n,null,s,l):We(e,n,s,l),n.child;case 11:return ld(e,n,n.type,n.pendingProps,l);case 7:return We(e,n,n.pendingProps,l),n.child;case 8:return We(e,n,n.pendingProps.children,l),n.child;case 12:return We(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,An(n,n.type,s.value),We(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ei(n),d=$e(d),s=s(d),n.flags|=1,We(e,n,s,l),n.child;case 14:return od(e,n,n.type,n.pendingProps,l);case 15:return ad(e,n,n.type,n.pendingProps,l);case 19:return hd(e,n,l);case 31:return uy(e,n,l);case 22:return sd(e,n,l,n.pendingProps);case 24:return ei(n),s=$e(He),e===null?(d=Hs(),d===null&&(d=Ne,m=ks(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},Vs(n),An(n,He,d)):((e.lanes&l)!==0&&(qs(e,n),Nl(n,null,null,l),xl()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),An(n,He,s)):(s=m.cache,An(n,He,s),s!==d.cache&&Ls(n,[He],l,!0))),We(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function an(e){e.flags|=4}function Er(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Od())e.flags|=8192;else throw ii=Do,zs}else e.flags&=-16777217}function yd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dp(n))if(Od())e.flags|=8192;else throw ii=Do,zs}function Qo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Qu():536870912,e.lanes|=n,Bi|=n)}function Dl(e,n){if(!ue)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function fy(e,n,l){var s=n.pendingProps;switch(Ms(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(n),null;case 1:return Me(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),tn(He),fi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(bi(n)?an(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Is())),Me(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(an(n),m!==null?(Me(n),yd(n,m)):(Me(n),Er(n,d,null,s,l))):m?m!==e.memoizedState?(an(n),Me(n),yd(n,m)):(Me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&an(n),Me(n),Er(n,d,e,s,l)),null;case 27:if(oo(n),l=yn.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Me(n),null}e=Fe.current,bi(n)?Qc(n):(e=Ap(d,s,l),n.stateNode=e,an(n))}return Me(n),null;case 5:if(oo(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Me(n),null}if(m=Fe.current,bi(n))Qc(n);else{var T=ca(yn.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[Qe]=n,m[at]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(je(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&an(n)}}return Me(n),Er(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=yn.current,bi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=Ze,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[Qe]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||pp(e.nodeValue,l)),e||Cn(n,!0)}else e=ca(e).createTextNode(s),e[Qe]=n,n.stateNode=e}return Me(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=bi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Qe]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Me(n),e=!1}else l=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Tt(n),n):(Tt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Me(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=bi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Qe]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Me(n),d=!1}else d=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Tt(n),n):(Tt(n),null)}return Tt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Qo(n,n.updateQueue),Me(n),null);case 4:return fi(),e===null&&Or(n.stateNode.containerInfo),Me(n),null;case 10:return tn(n.type),Me(n),null;case 19:if(Ie(ke),s=n.memoizedState,s===null)return Me(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Dl(s,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Go(e),m!==null){for(n.flags|=128,Dl(s,!1),e=m.updateQueue,n.updateQueue=e,Qo(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Fc(l,e),l=l.sibling;return he(ke,ke.current&1|2),ue&&jt(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&pt()>ea&&(n.flags|=128,d=!0,Dl(s,!1),n.lanes=4194304)}else{if(!d)if(e=Go(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Qo(n,e),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ue)return Me(n),null}else 2*pt()-s.renderingStartTime>ea&&l!==536870912&&(n.flags|=128,d=!0,Dl(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,l=ke.current,he(ke,d?l&1|2:l&1),ue&&jt(n,s.treeForkCount),e):(Me(n),null);case 22:case 23:return Tt(n),Fs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Me(n),n.subtreeFlags&6&&(n.flags|=8192)):Me(n),l=n.updateQueue,l!==null&&Qo(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&Ie(ti),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),tn(He),Me(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function dy(e,n){switch(Ms(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tn(He),fi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oo(n),null;case 31:if(n.memoizedState!==null){if(Tt(n),n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ie(ke),null;case 4:return fi(),null;case 10:return tn(n.type),null;case 22:case 23:return Tt(n),Fs(),e!==null&&Ie(ti),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tn(He),null;case 25:return null;default:return null}}function vd(e,n){switch(Ms(n),n.tag){case 3:tn(He),fi();break;case 26:case 27:case 5:oo(n);break;case 4:fi();break;case 31:n.memoizedState!==null&&Tt(n);break;case 13:Tt(n);break;case 19:Ie(ke);break;case 10:tn(n.type);break;case 22:case 23:Tt(n),Fs(),e!==null&&Ie(ti);break;case 24:tn(He)}}function Ul(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,T=l.inst;s=m(),T.destroy=s}l=l.next}while(l!==d)}}catch(_){Te(n,n.return,_)}}function wn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var x=l,M=_;try{M()}catch(k){Te(d,x,k)}}}s=s.next}while(s!==m)}}catch(k){Te(n,n.return,k)}}function Td(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{uf(n,l)}catch(s){Te(e,e.return,s)}}}function Sd(e,n,l){l.props=ai(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Te(e,n,s)}}function Ll(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){Te(e,n,d)}}function Yt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){Te(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Te(e,n,d)}else l.current=null}function Ed(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){Te(e,e.return,d)}}function _r(e,n,l){try{var s=e.stateNode;Ly(s,e.type,l,n),s[at]=n}catch(d){Te(e,e.return,d)}}function _d(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Cr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Zt));else if(s!==4&&(s===27&&Hn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Ar(e,n,l),e=e.sibling;e!==null;)Ar(e,n,l),e=e.sibling}function Zo(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Zo(e,n,l),e=e.sibling;e!==null;)Zo(e,n,l),e=e.sibling}function Cd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);je(n,s,l),n[Qe]=e,n[at]=l}catch(m){Te(e,e.return,m)}}var sn=!1,qe=!1,xr=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function py(e,n){if(e=e.containerInfo,Yr=ya,e=kc(e),vs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,_=-1,x=-1,M=0,k=0,z=e,w=null;t:for(;;){for(var L;z!==l||d!==0&&z.nodeType!==3||(_=T+d),z!==m||s!==0&&z.nodeType!==3||(x=T+s),z.nodeType===3&&(T+=z.nodeValue.length),(L=z.firstChild)!==null;)w=z,z=L;for(;;){if(z===e)break t;if(w===l&&++M===d&&(_=T),w===m&&++k===s&&(x=T),(L=z.nextSibling)!==null)break;z=w,w=z.parentNode}z=L}l=_===-1||x===-1?null:{start:_,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xr={focusedElem:e,selectionRange:l},ya=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var F=ai(l.type,d);e=s.getSnapshotBeforeUpdate(F,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(j){Te(l,l.return,j)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Zr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function xd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:un(e,l),s&4&&Ul(5,l);break;case 1:if(un(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Te(l,l.return,T)}else{var d=ai(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Te(l,l.return,T)}}s&64&&Td(l),s&512&&Ll(l,l.return);break;case 3:if(un(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{uf(e,n)}catch(T){Te(l,l.return,T)}}break;case 27:n===null&&s&4&&Cd(l);case 26:case 5:un(e,l),n===null&&s&4&&Ed(l),s&512&&Ll(l,l.return);break;case 12:un(e,l);break;case 31:un(e,l),s&4&&bd(e,l);break;case 13:un(e,l),s&4&&Md(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=_y.bind(null,l),Py(e,l))));break;case 22:if(s=l.memoizedState!==null||sn,!s){n=n!==null&&n.memoizedState!==null||qe,d=sn;var m=qe;sn=s,(qe=n)&&!m?cn(e,l,(l.subtreeFlags&8772)!==0):un(e,l),sn=d,qe=m}break;case 30:break;default:un(e,l)}}function Nd(e){var n=e.alternate;n!==null&&(e.alternate=null,Nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ts(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,rt=!1;function rn(e,n,l){for(l=l.child;l!==null;)Rd(e,n,l),l=l.sibling}function Rd(e,n,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(ll,l)}catch{}switch(l.tag){case 26:qe||Yt(l,n),rn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qe||Yt(l,n);var s=we,d=rt;Hn(l.type)&&(we=l.stateNode,rt=!1),rn(e,n,l),Ol(l.stateNode),we=s,rt=d;break;case 5:qe||Yt(l,n);case 6:if(s=we,d=rt,we=null,rn(e,n,l),we=s,rt=d,we!==null)if(rt)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(l.stateNode)}catch(m){Te(l,n,m)}else try{we.removeChild(l.stateNode)}catch(m){Te(l,n,m)}break;case 18:we!==null&&(rt?(e=we,Tp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qi(e)):Tp(we,l.stateNode));break;case 4:s=we,d=rt,we=l.stateNode.containerInfo,rt=!0,rn(e,n,l),we=s,rt=d;break;case 0:case 11:case 14:case 15:wn(2,l,n),qe||wn(4,l,n),rn(e,n,l);break;case 1:qe||(Yt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Sd(l,n,s)),rn(e,n,l);break;case 21:rn(e,n,l);break;case 22:qe=(s=qe)||l.memoizedState!==null,rn(e,n,l),qe=s;break;default:rn(e,n,l)}}function bd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(l){Te(n,n.return,l)}}}function Md(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(l){Te(n,n.return,l)}}function my(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ad),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ad),n;default:throw Error(a(435,e.tag))}}function $o(e,n){var l=my(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=Cy.bind(null,e,s);s.then(d,d)}})}function ut(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Hn(_.type)){we=_.stateNode,rt=!1;break e}break;case 5:we=_.stateNode,rt=!1;break e;case 3:case 4:we=_.stateNode.containerInfo,rt=!0;break e}_=_.return}if(we===null)throw Error(a(160));Rd(m,T,d),we=null,rt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wd(n,e),n=n.sibling}var Ht=null;function wd(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ut(n,e),ct(e),s&4&&(wn(3,e,e.return),Ul(3,e),wn(5,e,e.return));break;case 1:ut(n,e),ct(e),s&512&&(qe||l===null||Yt(l,l.return)),s&64&&sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Ht;if(ut(n,e),ct(e),s&512&&(qe||l===null||Yt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[sl]||m[Qe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),je(m,s,l),m[Qe]=e,Je(m),s=m;break e;case"link":var T=wp("link","href",d).get(s+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),je(m,s,l),d.head.appendChild(m);break;case"meta":if(T=wp("meta","content",d).get(s+(l.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}m=d.createElement(s),je(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[Qe]=e,Je(m),s=m}e.stateNode=s}else Ip(d,e.type,e.stateNode);else e.stateNode=Mp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Ip(d,e.type,e.stateNode):Mp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&_r(e,e.memoizedProps,l.memoizedProps)}break;case 27:ut(n,e),ct(e),s&512&&(qe||l===null||Yt(l,l.return)),l!==null&&s&4&&_r(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ut(n,e),ct(e),s&512&&(qe||l===null||Yt(l,l.return)),e.flags&32){d=e.stateNode;try{vi(d,"")}catch(F){Te(e,e.return,F)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,_r(e,d,l!==null?l.memoizedProps:d)),s&1024&&(xr=!0);break;case 6:if(ut(n,e),ct(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(F){Te(e,e.return,F)}}break;case 3:if(pa=null,d=Ht,Ht=fa(n.containerInfo),ut(n,e),Ht=d,ct(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(n.containerInfo)}catch(F){Te(e,e.return,F)}xr&&(xr=!1,Id(e));break;case 4:s=Ht,Ht=fa(e.stateNode.containerInfo),ut(n,e),ct(e),Ht=s;break;case 12:ut(n,e),ct(e);break;case 31:ut(n,e),ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$o(e,s)));break;case 13:ut(n,e),ct(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jo=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$o(e,s)));break;case 22:d=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,M=sn,k=qe;if(sn=M||d,qe=k||x,ut(n,e),qe=k,sn=M,ct(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||x||sn||qe||si(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){x=l=n;try{if(m=x.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=x.stateNode;var z=x.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(F){Te(x,x.return,F)}}}else if(n.tag===6){if(l===null){x=n;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(F){Te(x,x.return,F)}}}else if(n.tag===18){if(l===null){x=n;try{var L=x.stateNode;d?Sp(L,!0):Sp(x.stateNode,!1)}catch(F){Te(x,x.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,$o(e,l))));break;case 19:ut(n,e),ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$o(e,s)));break;case 30:break;case 21:break;default:ut(n,e),ct(e)}}function ct(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(_d(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Cr(e);Zo(e,m,d);break;case 5:var T=l.stateNode;l.flags&32&&(vi(T,""),l.flags&=-33);var _=Cr(e);Zo(e,_,T);break;case 3:case 4:var x=l.stateNode.containerInfo,M=Cr(e);Ar(e,M,x);break;default:throw Error(a(161))}}catch(k){Te(e,e.return,k)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Id(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Id(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xd(e,n.alternate,n),n=n.sibling}function si(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wn(4,n,n.return),si(n);break;case 1:Yt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Sd(n,n.return,l),si(n);break;case 27:Ol(n.stateNode);case 26:case 5:Yt(n,n.return),si(n);break;case 22:n.memoizedState===null&&si(n);break;case 30:si(n);break;default:si(n)}e=e.sibling}}function cn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:cn(d,m,l),Ul(4,m);break;case 1:if(cn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Te(s,s.return,M)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)rf(x[d],_)}catch(M){Te(s,s.return,M)}}l&&T&64&&Td(m),Ll(m,m.return);break;case 27:Cd(m);case 26:case 5:cn(d,m,l),l&&s===null&&T&4&&Ed(m),Ll(m,m.return);break;case 12:cn(d,m,l);break;case 31:cn(d,m,l),l&&T&4&&bd(d,m);break;case 13:cn(d,m,l),l&&T&4&&Md(d,m);break;case 22:m.memoizedState===null&&cn(d,m,l),Ll(m,m.return);break;case 30:break;default:cn(d,m,l)}n=n.sibling}}function Nr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Sl(l))}function Rr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e))}function zt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dd(e,n,l,s),n=n.sibling}function Dd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:zt(e,n,l,s),d&2048&&Ul(9,n);break;case 1:zt(e,n,l,s);break;case 3:zt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e)));break;case 12:if(d&2048){zt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Te(n,n.return,x)}}else zt(e,n,l,s);break;case 31:zt(e,n,l,s);break;case 13:zt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?zt(e,n,l,s):kl(e,n):m._visibility&2?zt(e,n,l,s):(m._visibility|=2,zi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Nr(T,n);break;case 24:zt(e,n,l,s),d&2048&&Rr(n.alternate,n);break;default:zt(e,n,l,s)}}function zi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=l,x=s,M=T.flags;switch(T.tag){case 0:case 11:case 15:zi(m,T,_,x,d),Ul(8,T);break;case 23:break;case 22:var k=T.stateNode;T.memoizedState!==null?k._visibility&2?zi(m,T,_,x,d):kl(m,T):(k._visibility|=2,zi(m,T,_,x,d)),d&&M&2048&&Nr(T.alternate,T);break;case 24:zi(m,T,_,x,d),d&&M&2048&&Rr(T.alternate,T);break;default:zi(m,T,_,x,d)}n=n.sibling}}function kl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:kl(l,s),d&2048&&Nr(s.alternate,s);break;case 24:kl(l,s),d&2048&&Rr(s.alternate,s);break;default:kl(l,s)}n=n.sibling}}var Gl=8192;function Vi(e,n,l){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Ud(e,n,l),e=e.sibling}function Ud(e,n,l){switch(e.tag){case 26:Vi(e,n,l),e.flags&Gl&&e.memoizedState!==null&&ev(l,Ht,e.memoizedState,e.memoizedProps);break;case 5:Vi(e,n,l);break;case 3:case 4:var s=Ht;Ht=fa(e.stateNode.containerInfo),Vi(e,n,l),Ht=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Gl,Gl=16777216,Vi(e,n,l),Gl=s):Vi(e,n,l));break;default:Vi(e,n,l)}}function Ld(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Ye=s,Gd(s,e)}Ld(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kd(e),e=e.sibling}function kd(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&wn(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wo(e)):Hl(e);break;default:Hl(e)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Ye=s,Gd(s,e)}Ld(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wn(8,n,n.return),Wo(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Wo(n));break;default:Wo(n)}e=e.sibling}}function Gd(e,n){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:wn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Sl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Ye=s;else e:for(l=e;Ye!==null;){s=Ye;var d=s.sibling,m=s.return;if(Nd(s),s===l){Ye=null;break e}if(d!==null){d.return=m,Ye=d;break e}Ye=m}}}var hy={getCacheForType:function(e){var n=$e(He),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return $e(He).controller.signal}},gy=typeof WeakMap=="function"?WeakMap:Map,me=0,Ne=null,oe=null,se=0,ve=0,St=null,In=!1,qi=!1,br=!1,fn=0,Ue=0,Dn=0,ri=0,Mr=0,Et=0,Bi=0,zl=null,ft=null,wr=!1,jo=0,Hd=0,ea=1/0,ta=null,Un=null,Be=0,Ln=null,Pi=null,dn=0,Ir=0,Dr=null,zd=null,Vl=0,Ur=null;function _t(){return(me&2)!==0&&se!==0?se&-se:I.T!==null?Vr():ju()}function Vd(){if(Et===0)if((se&536870912)===0||ue){var e=ro;ro<<=1,(ro&3932160)===0&&(ro=262144),Et=e}else Et=536870912;return e=vt.current,e!==null&&(e.flags|=32),Et}function dt(e,n,l){(e===Ne&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Oi(e,0),kn(e,se,Et,!1)),al(e,l),((me&2)===0||e!==Ne)&&(e===Ne&&((me&2)===0&&(ri|=l),Ue===4&&kn(e,se,Et,!1)),Xt(e))}function qd(e,n,l){if((me&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||ol(e,n),d=s?Ty(e,n):kr(e,n,!0),m=s;do{if(d===0){qi&&!s&&kn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!yy(l)){d=kr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=zl;var x=_.current.memoizedState.isDehydrated;if(x&&(Oi(_,T).flags|=256),T=kr(_,T,!1),T!==2){if(br&&!x){_.errorRecoveryDisabledLanes|=m,ri|=m,d=4;break e}m=ft,ft=d,m!==null&&(ft===null?ft=m:ft.push.apply(ft,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){Oi(e,0),kn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:kn(s,n,Et,!In);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=jo+300-pt(),10<d)){if(kn(s,n,Et,!In),co(s,0,!0)!==0)break e;dn=n,s.timeoutHandle=yp(Bd.bind(null,s,l,ft,ta,wr,n,Et,ri,Bi,In,m,"Throttled",-0,0),d);break e}Bd(s,l,ft,ta,wr,n,Et,ri,Bi,In,m,null,-0,0)}}break}while(!0);Xt(e)}function Bd(e,n,l,s,d,m,T,_,x,M,k,z,w,L){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Ud(n,m,z);var F=(m&62914560)===m?jo-pt():(m&4194048)===m?Hd-pt():0;if(F=tv(z,F),F!==null){dn=m,e.cancelPendingCommit=F(Qd.bind(null,e,n,m,l,s,d,T,_,x,k,z,null,w,L)),kn(e,m,T,!M);return}}Qd(e,n,m,l,s,d,T,_,x)}function yy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!gt(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kn(e,n,l,s){n&=~Mr,n&=~ri,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-ht(d),T=1<<m;s[m]=-1,d&=~T}l!==0&&Zu(e,l,n)}function na(){return(me&6)===0?(ql(0),!1):!0}function Lr(){if(oe!==null){if(ve===0)var e=oe.return;else e=oe,en=jn=null,Zs(e),Ui=null,_l=0,e=oe;for(;e!==null;)vd(e.alternate,e),e=e.return;oe=null}}function Oi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Hy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),dn=0,Lr(),Ne=e,oe=l=Wt(e.current,null),se=n,ve=0,St=null,In=!1,qi=ol(e,n),br=!1,Bi=Et=Mr=ri=Dn=Ue=0,ft=zl=null,wr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-ht(s),m=1<<d;n|=e[d],s&=~m}return fn=n,Co(),l}function Pd(e,n){te=null,I.H=wl,n===Di||n===Io?(n=lf(),ve=3):n===zs?(n=lf(),ve=4):ve=n===dr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,St=n,oe===null&&(Ue=1,Jo(e,Nt(n,e.current)))}function Od(){var e=vt.current;return e===null?!0:(se&4194048)===se?wt===null:(se&62914560)===se||(se&536870912)!==0?e===wt:!1}function Fd(){var e=I.H;return I.H=wl,e===null?wl:e}function Jd(){var e=I.A;return I.A=hy,e}function ia(){Ue=4,In||(se&4194048)!==se&&vt.current!==null||(qi=!0),(Dn&134217727)===0&&(ri&134217727)===0||Ne===null||kn(Ne,se,Et,!1)}function kr(e,n,l){var s=me;me|=2;var d=Fd(),m=Jd();(Ne!==e||se!==n)&&(ta=null,Oi(e,n)),n=!1;var T=Ue;e:do try{if(ve!==0&&oe!==null){var _=oe,x=St;switch(ve){case 8:Lr(),T=6;break e;case 3:case 2:case 9:case 6:vt.current===null&&(n=!0);var M=ve;if(ve=0,St=null,Fi(e,_,x,M),l&&qi){T=0;break e}break;default:M=ve,ve=0,St=null,Fi(e,_,x,M)}}vy(),T=Ue;break}catch(k){Pd(e,k)}while(!0);return n&&e.shellSuspendCounter++,en=jn=null,me=s,I.H=d,I.A=m,oe===null&&(Ne=null,se=0,Co()),T}function vy(){for(;oe!==null;)Yd(oe)}function Ty(e,n){var l=me;me|=2;var s=Fd(),d=Jd();Ne!==e||se!==n?(ta=null,ea=pt()+500,Oi(e,n)):qi=ol(e,n);e:do try{if(ve!==0&&oe!==null){n=oe;var m=St;t:switch(ve){case 1:ve=0,St=null,Fi(e,n,m,1);break;case 2:case 9:if(tf(m)){ve=0,St=null,Xd(n);break}n=function(){ve!==2&&ve!==9||Ne!==e||(ve=7),Xt(e)},m.then(n,n);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:tf(m)?(ve=0,St=null,Xd(n)):(ve=0,St=null,Fi(e,n,m,7));break;case 5:var T=null;switch(oe.tag){case 26:T=oe.memoizedState;case 5:case 27:var _=oe;if(T?Dp(T):_.stateNode.complete){ve=0,St=null;var x=_.sibling;if(x!==null)oe=x;else{var M=_.return;M!==null?(oe=M,la(M)):oe=null}break t}}ve=0,St=null,Fi(e,n,m,5);break;case 6:ve=0,St=null,Fi(e,n,m,6);break;case 8:Lr(),Ue=6;break e;default:throw Error(a(462))}}Sy();break}catch(k){Pd(e,k)}while(!0);return en=jn=null,I.H=s,I.A=d,me=l,oe!==null?0:(Ne=null,se=0,Co(),Ue)}function Sy(){for(;oe!==null&&!Og();)Yd(oe)}function Yd(e){var n=gd(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?la(e):oe=n}function Xd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=cd(l,n,n.pendingProps,n.type,void 0,se);break;case 11:n=cd(l,n,n.pendingProps,n.type.render,n.ref,se);break;case 5:Zs(n);default:vd(l,n),n=oe=Fc(n,fn),n=gd(l,n,fn)}e.memoizedProps=e.pendingProps,n===null?la(e):oe=n}function Fi(e,n,l,s){en=jn=null,Zs(n),Ui=null,_l=0;var d=n.return;try{if(ry(e,d,n,l,se)){Ue=1,Jo(e,Nt(l,e.current)),oe=null;return}}catch(m){if(d!==null)throw oe=d,m;Ue=1,Jo(e,Nt(l,e.current)),oe=null;return}n.flags&32768?(ue||s===1?e=!0:qi||(se&536870912)!==0?e=!1:(In=e=!0,(s===2||s===9||s===3||s===6)&&(s=vt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Kd(n,e)):la(n)}function la(e){var n=e;do{if((n.flags&32768)!==0){Kd(n,In);return}e=n.return;var l=fy(n.alternate,n,fn);if(l!==null){oe=l;return}if(n=n.sibling,n!==null){oe=n;return}oe=n=e}while(n!==null);Ue===0&&(Ue=5)}function Kd(e,n){do{var l=dy(e.alternate,e);if(l!==null){l.flags&=32767,oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){oe=e;return}oe=e=l}while(e!==null);Ue=6,oe=null}function Qd(e,n,l,s,d,m,T,_,x){e.cancelPendingCommit=null;do oa();while(Be!==0);if((me&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Cs,jg(e,l,m,T,_,x),e===Ne&&(oe=Ne=null,se=0),Pi=n,Ln=e,dn=l,Ir=m,Dr=d,zd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ay(ao,function(){return ep(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=I.T,I.T=null,d=B.p,B.p=2,T=me,me|=4;try{py(e,n,l)}finally{me=T,B.p=d,I.T=s}}Be=1,Zd(),$d(),Wd()}}function Zd(){if(Be===1){Be=0;var e=Ln,n=Pi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var s=B.p;B.p=2;var d=me;me|=4;try{wd(n,e);var m=Xr,T=kc(e.containerInfo),_=m.focusedElem,x=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&Lc(_.ownerDocument.documentElement,_)){if(x!==null&&vs(_)){var M=x.start,k=x.end;if(k===void 0&&(k=M),"selectionStart"in _)_.selectionStart=M,_.selectionEnd=Math.min(k,_.value.length);else{var z=_.ownerDocument||document,w=z&&z.defaultView||window;if(w.getSelection){var L=w.getSelection(),F=_.textContent.length,j=Math.min(x.start,F),_e=x.end===void 0?j:Math.min(x.end,F);!L.extend&&j>_e&&(T=_e,_e=j,j=T);var R=Uc(_,j),N=Uc(_,_e);if(R&&N&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var b=z.createRange();b.setStart(R.node,R.offset),L.removeAllRanges(),j>_e?(L.addRange(b),L.extend(N.node,N.offset)):(b.setEnd(N.node,N.offset),L.addRange(b))}}}}for(z=[],L=_;L=L.parentNode;)L.nodeType===1&&z.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var H=z[_];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}ya=!!Yr,Xr=Yr=null}finally{me=d,B.p=s,I.T=l}}e.current=n,Be=2}}function $d(){if(Be===2){Be=0;var e=Ln,n=Pi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var s=B.p;B.p=2;var d=me;me|=4;try{xd(e,n.alternate,n)}finally{me=d,B.p=s,I.T=l}}Be=3}}function Wd(){if(Be===4||Be===3){Be=0,Fg();var e=Ln,n=Pi,l=dn,s=zd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Pi=Ln=null,jd(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Un=null),ja(l),n=n.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(ll,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=I.T,d=B.p,B.p=2,I.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{I.T=n,B.p=d}}(dn&3)!==0&&oa(),Xt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Ur?Vl++:(Vl=0,Ur=e):Vl=0,ql(0)}}function jd(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Sl(n)))}function oa(){return Zd(),$d(),Wd(),ep()}function ep(){if(Be!==5)return!1;var e=Ln,n=Ir;Ir=0;var l=ja(dn),s=I.T,d=B.p;try{B.p=32>l?32:l,I.T=null,l=Dr,Dr=null;var m=Ln,T=dn;if(Be=0,Pi=Ln=null,dn=0,(me&6)!==0)throw Error(a(331));var _=me;if(me|=4,kd(m.current),Dd(m,m.current,T,l),me=_,ql(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(ll,m)}catch{}return!0}finally{B.p=d,I.T=s,jd(e,n)}}function tp(e,n,l){n=Nt(l,n),n=fr(e.stateNode,n,2),e=Rn(e,n,2),e!==null&&(al(e,2),Xt(e))}function Te(e,n,l){if(e.tag===3)tp(e,e,l);else for(;n!==null;){if(n.tag===3){tp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=Nt(l,e),l=nd(2),s=Rn(n,l,2),s!==null&&(id(l,s,n,e),al(s,2),Xt(s));break}}n=n.return}}function Gr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new gy;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(br=!0,d.add(l),e=Ey.bind(null,e,n,l),n.then(e,e))}function Ey(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ne===e&&(se&l)===l&&(Ue===4||Ue===3&&(se&62914560)===se&&300>pt()-jo?(me&2)===0&&Oi(e,0):Mr|=l,Bi===se&&(Bi=0)),Xt(e)}function np(e,n){n===0&&(n=Qu()),e=Zn(e,n),e!==null&&(al(e,n),Xt(e))}function _y(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),np(e,l)}function Cy(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),np(e,l)}function Ay(e,n){return Qa(e,n)}var aa=null,Ji=null,Hr=!1,sa=!1,zr=!1,Gn=0;function Xt(e){e!==Ji&&e.next===null&&(Ji===null?aa=Ji=e:Ji=Ji.next=e),sa=!0,Hr||(Hr=!0,Ny())}function ql(e,n){if(!zr&&sa){zr=!0;do for(var l=!1,s=aa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-ht(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,ap(s,m))}else m=se,m=co(s,s===Ne?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||ol(s,m)||(l=!0,ap(s,m));s=s.next}while(l);zr=!1}}function xy(){ip()}function ip(){sa=Hr=!1;var e=0;Gn!==0&&Gy()&&(e=Gn);for(var n=pt(),l=null,s=aa;s!==null;){var d=s.next,m=lp(s,n);m===0?(s.next=null,l===null?aa=d:l.next=d,d===null&&(Ji=l)):(l=s,(e!==0||(m&3)!==0)&&(sa=!0)),s=d}Be!==0&&Be!==5||ql(e),Gn!==0&&(Gn=0)}function lp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-ht(m),_=1<<T,x=d[T];x===-1?((_&l)===0||(_&s)!==0)&&(d[T]=Wg(_,n)):x<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ne,l=se,l=co(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Za(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ol(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Za(s),ja(l)){case 2:case 8:l=Xu;break;case 32:l=ao;break;case 268435456:l=Ku;break;default:l=ao}return s=op.bind(null,e),l=Qa(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Za(s),e.callbackPriority=2,e.callbackNode=null,2}function op(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(oa()&&e.callbackNode!==l)return null;var s=se;return s=co(e,e===Ne?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(qd(e,s,n),lp(e,pt()),e.callbackNode!=null&&e.callbackNode===l?op.bind(null,e):null)}function ap(e,n){if(oa())return null;qd(e,n,!0)}function Ny(){zy(function(){(me&6)!==0?Qa(Yu,xy):ip()})}function Vr(){if(Gn===0){var e=wi;e===0&&(e=so,so<<=1,(so&261888)===0&&(so=256)),Gn=e}return Gn}function sp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function rp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Ry(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=sp((d[at]||null).action),T=s.submitter;T&&(n=(n=T[at]||null)?sp(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new To("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Gn!==0){var x=T?rp(d,T):new FormData(d);or(l,{pending:!0,data:x,method:d.method,action:m},null,x)}}else typeof m=="function"&&(_.preventDefault(),x=T?rp(d,T):new FormData(d),or(l,{pending:!0,data:x,method:d.method,action:m},m,x))},currentTarget:d}]})}}for(var qr=0;qr<_s.length;qr++){var Br=_s[qr],by=Br.toLowerCase(),My=Br[0].toUpperCase()+Br.slice(1);Gt(by,"on"+My)}Gt(zc,"onAnimationEnd"),Gt(Vc,"onAnimationIteration"),Gt(qc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(J0,"onTransitionRun"),Gt(Y0,"onTransitionStart"),Gt(X0,"onTransitionCancel"),Gt(Bc,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function up(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],x=_.instance,M=_.currentTarget;if(_=_.listener,x!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=M;try{m(d)}catch(k){_o(k)}d.currentTarget=null,m=x}else for(T=0;T<s.length;T++){if(_=s[T],x=_.instance,M=_.currentTarget,_=_.listener,x!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=M;try{m(d)}catch(k){_o(k)}d.currentTarget=null,m=x}}}}function ae(e,n){var l=n[es];l===void 0&&(l=n[es]=new Set);var s=e+"__bubble";l.has(s)||(cp(n,e,2,!1),l.add(s))}function Pr(e,n,l){var s=0;n&&(s|=4),cp(l,e,s,n)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[ra]){e[ra]=!0,nc.forEach(function(l){l!=="selectionchange"&&(wy.has(l)||Pr(l,!1,e),Pr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ra]||(n[ra]=!0,Pr("selectionchange",!1,n))}}function cp(e,n,l,s){switch(Vp(n)){case 2:var d=lv;break;case 8:d=ov;break;default:d=lu}l=d.bind(null,n,l,e),d=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Fr(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=pi(_),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){s=m=T;continue e}_=_.parentNode}}s=s.return}mc(function(){var M=m,k=ss(l),z=[];e:{var w=Pc.get(e);if(w!==void 0){var L=To,F=e;switch(e){case"keypress":if(yo(l)===0)break e;case"keydown":case"keyup":L=C0;break;case"focusin":F="focus",L=ps;break;case"focusout":F="blur",L=ps;break;case"beforeblur":case"afterblur":L=ps;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=N0;break;case zc:case Vc:case qc:L=m0;break;case Bc:L=b0;break;case"scroll":case"scrollend":L=u0;break;case"wheel":L=w0;break;case"copy":case"cut":case"paste":L=g0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Tc;break;case"toggle":case"beforetoggle":L=D0}var j=(n&4)!==0,_e=!j&&(e==="scroll"||e==="scrollend"),R=j?w!==null?w+"Capture":null:w;j=[];for(var N=M,b;N!==null;){var H=N;if(b=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||b===null||R===null||(H=ul(N,R),H!=null&&j.push(Pl(N,H,b))),_e)break;N=N.return}0<j.length&&(w=new L(w,F,null,l,k),z.push({event:w,listeners:j}))}}if((n&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",w&&l!==as&&(F=l.relatedTarget||l.fromElement)&&(pi(F)||F[di]))break e;if((L||w)&&(w=k.window===k?k:(w=k.ownerDocument)?w.defaultView||w.parentWindow:window,L?(F=l.relatedTarget||l.toElement,L=M,F=F?pi(F):null,F!==null&&(_e=f(F),j=F.tag,F!==_e||j!==5&&j!==27&&j!==6)&&(F=null)):(L=null,F=M),L!==F)){if(j=yc,H="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(j=Tc,H="onPointerLeave",R="onPointerEnter",N="pointer"),_e=L==null?w:rl(L),b=F==null?w:rl(F),w=new j(H,N+"leave",L,l,k),w.target=_e,w.relatedTarget=b,H=null,pi(k)===M&&(j=new j(R,N+"enter",F,l,k),j.target=b,j.relatedTarget=_e,H=j),_e=H,L&&F)t:{for(j=Iy,R=L,N=F,b=0,H=R;H;H=j(H))b++;H=0;for(var Q=N;Q;Q=j(Q))H++;for(;0<b-H;)R=j(R),b--;for(;0<H-b;)N=j(N),H--;for(;b--;){if(R===N||N!==null&&R===N.alternate){j=R;break t}R=j(R),N=j(N)}j=null}else j=null;L!==null&&fp(z,w,L,j,!1),F!==null&&_e!==null&&fp(z,_e,F,j,!0)}}e:{if(w=M?rl(M):window,L=w.nodeName&&w.nodeName.toLowerCase(),L==="select"||L==="input"&&w.type==="file")var fe=Rc;else if(xc(w))if(bc)fe=P0;else{fe=q0;var X=V0}else L=w.nodeName,!L||L.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?M&&os(M.elementType)&&(fe=Rc):fe=B0;if(fe&&(fe=fe(e,M))){Nc(z,fe,l,k);break e}X&&X(e,w,M),e==="focusout"&&M&&w.type==="number"&&M.memoizedProps.value!=null&&ls(w,"number",w.value)}switch(X=M?rl(M):window,e){case"focusin":(xc(X)||X.contentEditable==="true")&&(_i=X,Ts=M,yl=null);break;case"focusout":yl=Ts=_i=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,Gc(z,l,k);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":Gc(z,l,k)}var ne;if(hs)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Ei?Cc(e,l)&&(re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(re="onCompositionStart");re&&(Sc&&l.locale!=="ko"&&(Ei||re!=="onCompositionStart"?re==="onCompositionEnd"&&Ei&&(ne=hc()):(Sn=k,cs="value"in Sn?Sn.value:Sn.textContent,Ei=!0)),X=ua(M,re),0<X.length&&(re=new vc(re,e,null,l,k),z.push({event:re,listeners:X}),ne?re.data=ne:(ne=Ac(l),ne!==null&&(re.data=ne)))),(ne=L0?k0(e,l):G0(e,l))&&(re=ua(M,"onBeforeInput"),0<re.length&&(X=new vc("onBeforeInput","beforeinput",null,l,k),z.push({event:X,listeners:re}),X.data=ne)),Ry(z,e,M,l,k)}up(z,n)})}function Pl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ua(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ul(e,l),d!=null&&s.unshift(Pl(e,d,m)),d=ul(e,n),d!=null&&s.push(Pl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fp(e,n,l,s,d){for(var m=n._reactName,T=[];l!==null&&l!==s;){var _=l,x=_.alternate,M=_.stateNode;if(_=_.tag,x!==null&&x===s)break;_!==5&&_!==26&&_!==27||M===null||(x=M,d?(M=ul(l,m),M!=null&&T.unshift(Pl(l,M,x))):d||(M=ul(l,m),M!=null&&T.push(Pl(l,M,x)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Dy=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function dp(e){return(typeof e=="string"?e:""+e).replace(Dy,`
`).replace(Uy,"")}function pp(e,n){return n=dp(n),dp(e)===n}function Ee(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||vi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&vi(e,""+s);break;case"className":po(e,"class",s);break;case"tabIndex":po(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":po(e,l,s);break;case"style":dc(e,s,m);break;case"data":if(n!=="object"){po(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=ho(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Ee(e,n,"name",d.name,d,null),Ee(e,n,"formEncType",d.formEncType,d,null),Ee(e,n,"formMethod",d.formMethod,d,null),Ee(e,n,"formTarget",d.formTarget,d,null)):(Ee(e,n,"encType",d.encType,d,null),Ee(e,n,"method",d.method,d,null),Ee(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=ho(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"onScroll":s!=null&&ae("scroll",e);break;case"onScrollEnd":s!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=ho(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":ae("beforetoggle",e),ae("toggle",e),fo(e,"popover",s);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=s0.get(l)||l,fo(e,l,s))}}function Jr(e,n,l,s,d,m){switch(l){case"style":dc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?vi(e,s):(typeof s=="number"||typeof s=="bigint")&&vi(e,""+s);break;case"onScroll":s!=null&&ae("scroll",e);break;case"onScrollEnd":s!=null&&ae("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ic.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[at]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):fo(e,l,s)}}}function je(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(e,n,m,T,l,null)}}d&&Ee(e,n,"srcSet",l.srcSet,l,null),s&&Ee(e,n,"src",l.src,l,null);return;case"input":ae("invalid",e);var _=m=T=d=null,x=null,M=null;for(s in l)if(l.hasOwnProperty(s)){var k=l[s];if(k!=null)switch(s){case"name":d=k;break;case"type":T=k;break;case"checked":x=k;break;case"defaultChecked":M=k;break;case"value":m=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Ee(e,n,s,k,l,null)}}rc(e,m,_,x,M,T,d,!1);return;case"select":ae("invalid",e),s=T=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:Ee(e,n,d,_,l,null)}n=m,l=T,e.multiple=!!s,n!=null?yi(e,!!s,n,!1):l!=null&&yi(e,!!s,l,!0);return;case"textarea":ae("invalid",e),m=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ee(e,n,T,_,l,null)}cc(e,s,d,m);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(s=l[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ee(e,n,x,s,l,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(s=0;s<Bl.length;s++)ae(Bl[s],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in l)if(l.hasOwnProperty(M)&&(s=l[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(e,n,M,s,l,null)}return;default:if(os(n)){for(k in l)l.hasOwnProperty(k)&&(s=l[k],s!==void 0&&Jr(e,n,k,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&Ee(e,n,_,s,l,null))}function Ly(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,x=null,M=null,k=null;for(L in l){var z=l[L];if(l.hasOwnProperty(L)&&z!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":x=z;default:s.hasOwnProperty(L)||Ee(e,n,L,null,s,z)}}for(var w in s){var L=s[w];if(z=l[w],s.hasOwnProperty(w)&&(L!=null||z!=null))switch(w){case"type":m=L;break;case"name":d=L;break;case"checked":M=L;break;case"defaultChecked":k=L;break;case"value":T=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==z&&Ee(e,n,w,L,s,z)}}is(e,T,_,x,M,k,m,d);return;case"select":L=T=_=w=null;for(m in l)if(x=l[m],l.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":L=x;default:s.hasOwnProperty(m)||Ee(e,n,m,null,s,x)}for(d in s)if(m=s[d],x=l[d],s.hasOwnProperty(d)&&(m!=null||x!=null))switch(d){case"value":w=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==x&&Ee(e,n,d,m,s,x)}n=_,l=T,s=L,w!=null?yi(e,!!l,w,!1):!!s!=!!l&&(n!=null?yi(e,!!l,n,!0):yi(e,!!l,l?[]:"",!1));return;case"textarea":L=w=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ee(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=l[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":w=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ee(e,n,T,d,s,m)}uc(e,w,L);return;case"option":for(var F in l)if(w=l[F],l.hasOwnProperty(F)&&w!=null&&!s.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Ee(e,n,F,null,s,w)}for(x in s)if(w=s[x],L=l[x],s.hasOwnProperty(x)&&w!==L&&(w!=null||L!=null))switch(x){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ee(e,n,x,w,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in l)w=l[j],l.hasOwnProperty(j)&&w!=null&&!s.hasOwnProperty(j)&&Ee(e,n,j,null,s,w);for(M in s)if(w=s[M],L=l[M],s.hasOwnProperty(M)&&w!==L&&(w!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,n));break;default:Ee(e,n,M,w,s,L)}return;default:if(os(n)){for(var _e in l)w=l[_e],l.hasOwnProperty(_e)&&w!==void 0&&!s.hasOwnProperty(_e)&&Jr(e,n,_e,void 0,s,w);for(k in s)w=s[k],L=l[k],!s.hasOwnProperty(k)||w===L||w===void 0&&L===void 0||Jr(e,n,k,w,s,L);return}}for(var R in l)w=l[R],l.hasOwnProperty(R)&&w!=null&&!s.hasOwnProperty(R)&&Ee(e,n,R,null,s,w);for(z in s)w=s[z],L=l[z],!s.hasOwnProperty(z)||w===L||w==null&&L==null||Ee(e,n,z,w,s,L)}function mp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&mp(T)){for(T=0,_=d.responseEnd,s+=1;s<l.length;s++){var x=l[s],M=x.startTime;if(M>_)break;var k=x.transferSize,z=x.initiatorType;k&&mp(z)&&(x=x.responseEnd,T+=k*(x<_?1:(_-M)/(x-M)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yr=null,Xr=null;function ca(e){return e.nodeType===9?e:e.ownerDocument}function hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Kr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qr=null;function Gy(){var e=window.event;return e&&e.type==="popstate"?e===Qr?!1:(Qr=e,!0):(Qr=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(e){return vp.resolve(null).then(e).catch(Vy)}:yp;function Vy(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Tp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),Qi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Ol(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ol(l);for(var m=l.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[sl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Ol(e.ownerDocument.body);l=d}while(l);Qi(n)}function Sp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Zr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zr(l),ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function qy(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[sl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function By(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=It(e.nextSibling),e===null))return null;return e}function Ep(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=It(e.nextSibling),e===null))return null;return e}function $r(e){return e.data==="$?"||e.data==="$~"}function Wr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Py(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function It(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jr=null;function _p(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return It(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Cp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Ap(e,n,l){switch(n=ca(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ts(e)}var Dt=new Map,xp=new Set;function fa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=B.d;B.d={f:Oy,r:Fy,D:Jy,C:Yy,L:Xy,m:Ky,X:Zy,S:Qy,M:$y};function Oy(){var e=pn.f(),n=na();return e||n}function Fy(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?Pf(n):pn.r(e)}var Yi=typeof document>"u"?null:document;function Np(e,n,l){var s=Yi;if(s&&typeof n=="string"&&n){var d=At(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),xp.has(d)||(xp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),je(n,"link",e),Je(n),s.head.appendChild(n)))}}function Jy(e){pn.D(e),Np("dns-prefetch",e,null)}function Yy(e,n){pn.C(e,n),Np("preconnect",e,n)}function Xy(e,n,l){pn.L(e,n,l);var s=Yi;if(s&&e&&n){var d='link[rel="preload"][as="'+At(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+At(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+At(l.imageSizes)+'"]')):d+='[href="'+At(e)+'"]';var m=d;switch(n){case"style":m=Xi(e);break;case"script":m=Ki(e)}Dt.has(m)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Dt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Fl(m))||n==="script"&&s.querySelector(Jl(m))||(n=s.createElement("link"),je(n,"link",e),Je(n),s.head.appendChild(n)))}}function Ky(e,n){pn.m(e,n);var l=Yi;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+At(s)+'"][href="'+At(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ki(e)}if(!Dt.has(m)&&(e=S({rel:"modulepreload",href:e},n),Dt.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jl(m)))return}s=l.createElement("link"),je(s,"link",e),Je(s),l.head.appendChild(s)}}}function Qy(e,n,l){pn.S(e,n,l);var s=Yi;if(s&&e){var d=hi(s).hoistableStyles,m=Xi(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(Fl(m)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Dt.get(m))&&eu(e,l);var x=T=s.createElement("link");Je(x),je(x,"link",e),x._p=new Promise(function(M,k){x.onload=M,x.onerror=k}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,da(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function Zy(e,n){pn.X(e,n);var l=Yi;if(l&&e){var s=hi(l).hoistableScripts,d=Ki(e),m=s.get(d);m||(m=l.querySelector(Jl(d)),m||(e=S({src:e,async:!0},n),(n=Dt.get(d))&&tu(e,n),m=l.createElement("script"),Je(m),je(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function $y(e,n){pn.M(e,n);var l=Yi;if(l&&e){var s=hi(l).hoistableScripts,d=Ki(e),m=s.get(d);m||(m=l.querySelector(Jl(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Dt.get(d))&&tu(e,n),m=l.createElement("script"),Je(m),je(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Rp(e,n,l,s){var d=(d=yn.current)?fa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Xi(l.href),l=hi(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Xi(l.href);var m=hi(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector(Fl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Dt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dt.set(e,l),m||Wy(d,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ki(l),l=hi(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xi(e){return'href="'+At(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function bp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Wy(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),je(n,"link",l),Je(n),e.head.appendChild(n))}function Ki(e){return'[src="'+At(e)+'"]'}function Jl(e){return"script[async]"+e}function Mp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+At(l.href)+'"]');if(s)return n.instance=s,Je(s),s;var d=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Je(s),je(s,"style",d),da(s,l.precedence,e),n.instance=s;case"stylesheet":d=Xi(l.href);var m=e.querySelector(Fl(d));if(m)return n.state.loading|=4,n.instance=m,Je(m),m;s=bp(l),(d=Dt.get(d))&&eu(s,d),m=(e.ownerDocument||e).createElement("link"),Je(m);var T=m;return T._p=new Promise(function(_,x){T.onload=_,T.onerror=x}),je(m,"link",s),n.state.loading|=4,da(m,l.precedence,e),n.instance=m;case"script":return m=Ki(l.src),(d=e.querySelector(Jl(m)))?(n.instance=d,Je(d),d):(s=l,(d=Dt.get(m))&&(s=S({},l),tu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Je(d),je(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,da(s,l.precedence,e));return n.instance}function da(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pa=null;function wp(e,n,l){if(pa===null){var s=new Map,d=pa=new Map;d.set(l,s)}else d=pa,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[sl]||m[Qe]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function Ip(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function jy(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ev(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Xi(s.href),m=n.querySelector(Fl(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ma.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Je(m);return}m=n.ownerDocument||n,s=bp(s),(d=Dt.get(d))&&eu(s,d),m=m.createElement("link"),Je(m);var T=m;T._p=new Promise(function(_,x){T.onload=_,T.onerror=x}),je(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ma.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var nu=0;function tv(e,n){return e.stylesheets&&e.count===0&&ga(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&nu===0&&(nu=62500*ky());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>nu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ma(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ga(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ha=null;function ga(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ha=new Map,n.forEach(nv,e),ha=null,ma.call(e))}function nv(e,n){if(!(n.state.loading&4)){var l=ha.get(e);if(l)var s=l.get(null);else{l=new Map,ha.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=l.get(T)||s,m===s&&l.set(null,d),l.set(T,d),this.count++,s=ma.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Yl={$$typeof:V,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function iv(e,n,l,s,d,m,T,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.hiddenUpdates=$a(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Up(e,n,l,s,d,m,T,_,x,M,k,z){return e=new iv(e,n,l,T,x,M,k,z,_),n=1,m===!0&&(n|=24),m=yt(3,null,null,n),e.current=m,m.stateNode=e,n=ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Vs(m),e}function Lp(e){return e?(e=xi,e):xi}function kp(e,n,l,s,d,m){d=Lp(d),s.context===null?s.context=d:s.pendingContext=d,s=Nn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Rn(e,s,n),l!==null&&(dt(l,e,n),Al(l,e,n))}function Gp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function iu(e,n){Gp(e,n),(e=e.alternate)&&Gp(e,n)}function Hp(e){if(e.tag===13||e.tag===31){var n=Zn(e,67108864);n!==null&&dt(n,e,67108864),iu(e,67108864)}}function zp(e){if(e.tag===13||e.tag===31){var n=_t();n=Wa(n);var l=Zn(e,n);l!==null&&dt(l,e,n),iu(e,n)}}var ya=!0;function lv(e,n,l,s){var d=I.T;I.T=null;var m=B.p;try{B.p=2,lu(e,n,l,s)}finally{B.p=m,I.T=d}}function ov(e,n,l,s){var d=I.T;I.T=null;var m=B.p;try{B.p=8,lu(e,n,l,s)}finally{B.p=m,I.T=d}}function lu(e,n,l,s){if(ya){var d=ou(s);if(d===null)Fr(e,n,s,va,l),qp(e,s);else if(sv(d,e,n,l,s))s.stopPropagation();else if(qp(e,s),n&4&&-1<av.indexOf(e)){for(;d!==null;){var m=mi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Jn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var x=1<<31-ht(T);_.entanglements[1]|=x,T&=~x}Xt(m),(me&6)===0&&(ea=pt()+500,ql(0))}}break;case 31:case 13:_=Zn(m,2),_!==null&&dt(_,m,2),na(),iu(m,2)}if(m=ou(s),m===null&&Fr(e,n,s,va,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Fr(e,n,s,null,l)}}function ou(e){return e=ss(e),au(e)}var va=null;function au(e){if(va=null,e=pi(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=h(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return va=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jg()){case Yu:return 2;case Xu:return 8;case ao:case Yg:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var su=!1,zn=null,Vn=null,qn=null,Xl=new Map,Kl=new Map,Bn=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(e,n){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Ql(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=mi(n),n!==null&&Hp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function sv(e,n,l,s,d){switch(n){case"focusin":return zn=Ql(zn,e,n,l,s,d),!0;case"dragenter":return Vn=Ql(Vn,e,n,l,s,d),!0;case"mouseover":return qn=Ql(qn,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return Xl.set(m,Ql(Xl.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Kl.set(m,Ql(Kl.get(m)||null,e,n,l,s,d)),!0}return!1}function Bp(e){var n=pi(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,ec(e.priority,function(){zp(l)});return}}else if(n===31){if(n=h(l),n!==null){e.blockedOn=n,ec(e.priority,function(){zp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);as=s,l.target.dispatchEvent(s),as=null}else return n=mi(l),n!==null&&Hp(n),e.blockedOn=l,!1;n.shift()}return!0}function Pp(e,n,l){Ta(e)&&l.delete(n)}function rv(){su=!1,zn!==null&&Ta(zn)&&(zn=null),Vn!==null&&Ta(Vn)&&(Vn=null),qn!==null&&Ta(qn)&&(qn=null),Xl.forEach(Pp),Kl.forEach(Pp)}function Sa(e,n){e.blockedOn===n&&(e.blockedOn=null,su||(su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rv)))}var Ea=null;function Op(e){Ea!==e&&(Ea=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ea===e&&(Ea=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(au(s||l)===null)continue;break}var m=mi(l);m!==null&&(e.splice(n,3),n-=3,or(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Qi(e){function n(x){return Sa(x,e)}zn!==null&&Sa(zn,e),Vn!==null&&Sa(Vn,e),qn!==null&&Sa(qn,e),Xl.forEach(n),Kl.forEach(n);for(var l=0;l<Bn.length;l++){var s=Bn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bn.length&&(l=Bn[0],l.blockedOn===null);)Bp(l),l.blockedOn===null&&Bn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],T=d[at]||null;if(typeof m=="function")T||Op(l);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[at]||null)_=T.formAction;else if(au(d)!==null)continue}else _=T.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Op(l)}}}function Fp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function ru(e){this._internalRoot=e}_a.prototype.render=ru.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=_t();kp(l,s,e,n,null,null)},_a.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;kp(e.current,2,null,e,null,null),na(),n[di]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var n=ju();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Bn.length&&n!==0&&n<Bn[l].priority;l++);Bn.splice(l,0,e),l===0&&Bp(e)}};var Jp=t.version;if(Jp!=="19.2.3")throw Error(a(527,Jp,"19.2.3"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var uv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{ll=Ca.inject(uv),mt=Ca}catch{}}return $l.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=Wf,m=jf,T=ed;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Up(e,1,!1,null,null,l,s,null,d,m,T,Fp),e[di]=n.current,Or(e),new ru(n)},$l.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=Wf,T=jf,_=ed,x=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),n=Up(e,1,!0,n,l??null,s,d,x,m,T,_,Fp),n.context=Lp(null),l=n.current,s=_t(),s=Wa(s),d=Nn(s),d.callback=null,Rn(l,d,s),l=s,n.current.lanes=l,al(n,l),Xt(n),e[di]=n.current,Or(e),new _a(n)},$l.version="19.2.3",$l}var am;function rT(){if(am)return cu.exports;am=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cu.exports=sT(),cu.exports}var uT=rT();const cT=pv(uT);var fT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dT,pT;function mT(){return{geminiUrl:dT,vertexUrl:pT}}function hT(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=mT();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hn{}function O(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];c(v,t.slice(f+1),o[g])}else for(const g of y)c(g,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(h=>u(h,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function gT(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let h=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){h=y;break}if(h!==-1&&f.length>h)for(let y=h;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&p.add(g)}Tu(i,r,f,0,p)}}function Tu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),h=i;if(p in h&&Array.isArray(h[p]))for(const y of h[p])Tu(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,h=Object.keys(p).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of h)y[g]=p[g];for(const[g,v]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(g):S.push(E);c(p,S,v)}for(const g of h)delete p[g]}}else{const p=i;f in p&&Tu(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function vT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],ST(p)),t}function TT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],ET(p)),t}function ST(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>_T(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function ET(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>CT(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function _T(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],MT(o)),t}function CT(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],wT(o)),t}function AT(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function xT(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function NT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],RT(p)),t}function RT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Qh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],bT(p)),t}function bT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function MT(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Lu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function wT(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Lu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sm||(sm={}));var rm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(rm||(rm={}));var um;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(um||(um={}));var ce;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ce||(ce={}));var cm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cm||(cm={}));var fm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(fm||(fm={}));var dm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dm||(dm={}));var pm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pm||(pm={}));var mm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(mm||(mm={}));var hm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(hm||(hm={}));var gm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(gm||(gm={}));var ym;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(ym||(ym={}));var vm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vm||(vm={}));var Tm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Tm||(Tm={}));var Sm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Sm||(Sm={}));var Em;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Em||(Em={}));var _m;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(_m||(_m={}));var Cm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cm||(Cm={}));var Am;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Am||(Am={}));var xm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(xm||(xm={}));var Nm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Nm||(Nm={}));var Da;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Da||(Da={}));var Rm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Rm||(Rm={}));var bm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bm||(bm={}));var Mm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Mm||(Mm={}));var Su;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Su||(Su={}));var wm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wm||(wm={}));var Im;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Im||(Im={}));var Eu;(function(i){i.COLLECTION="COLLECTION"})(Eu||(Eu={}));var Dm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Dm||(Dm={}));var Um;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Um||(Um={}));var Lm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Lm||(Lm={}));var km;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(km||(km={}));var Gm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Gm||(Gm={}));var Hm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hm||(Hm={}));var zm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zm||(zm={}));var Vm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Vm||(Vm={}));var qm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qm||(qm={}));var Bm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Bm||(Bm={}));var Pm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Pm||(Pm={}));var Om;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Om||(Om={}));var Fm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Fm||(Fm={}));var Jm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jm||(Jm={}));var Ym;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Ym||(Ym={}));var Xm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Xm||(Xm={}));var Km;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Km||(Km={}));var Qm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Qm||(Qm={}));var Zm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Zm||(Zm={}));var $m;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($m||($m={}));var Wm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Wm||(Wm={}));var jm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jm||(jm={}));var eh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(th||(th={}));var nh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nh||(nh={}));var ih;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ih||(ih={}));var lh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(lh||(lh={}));var $i;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($i||($i={}));class _u{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Wl{get text(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const E of(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[A,D]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(D!==null||D!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,o,a,r,f,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,a,r,f,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class oh{}class ah{}class IT{}class DT{}class UT{}class LT{}class sh{}class rh{}class uh{}class kT{}class Ua{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ua;let r;const f=t;return o?r=TT(f):r=vT(f),Object.assign(a,r),a}}class ch{}class fh{}class dh{}class ph{}class GT{}class HT{}class zT{}class ku{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ku,f=NT(t);return Object.assign(a,f),a}}class VT{}class qT{}class BT{}class mh{}class PT{get text(){var t,o,a;let r="",f=!1;const p=[];for(const h of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,r+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&y!==null&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class OT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Gu,f=Qh(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Zh(i,t){const o=pe(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function $h(i){return Array.isArray(i)?i.map(t=>La(t)):[La(i)]}function La(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Wh(i){const t=La(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jh(i){const t=La(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>hh(t)):[hh(i)]}function Cu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function gh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function yh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function tt(i){if(i==null)throw new Error("ContentUnion is required");return Cu(i)?i:{role:"user",parts:eg(i)}}function Hu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=tt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=tt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>tt(o)):[tt(t)]}function Lt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(gh(i)||yh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tt(i)]}const t=[],o=[],a=Cu(i[0]);for(const r of i){const f=Cu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(gh(r)||yh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:eg(o)}),t}function FT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(ce).includes(o[0].toUpperCase())?o[0].toUpperCase():ce.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(ce).includes(a.toUpperCase())?a.toUpperCase():ce.TYPE_UNSPECIFIED})}}function ji(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&FT(i.type,t);for(const[p,h]of Object.entries(i))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(ce).includes(h.toUpperCase())?h.toUpperCase():ce.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ji(h);else if(a.includes(p)){const y=[];for(const g of h){if(g.type=="null"){t.nullable=!0;continue}y.push(ji(g))}t[p]=y}else if(r.includes(p)){const y={};for(const[g,v]of Object.entries(h))y[g]=ji(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=h}return t}function zu(i){return ji(i)}function Vu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function tl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ji(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ji(t.response));return i}function nl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function JT(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function gn(i,t){if(typeof t!="string")throw new Error("name must be a string");return JT(i,t,"cachedContents")}function tg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function On(i){return Lu(i)}function YT(i){return i!=null&&typeof i=="object"&&"name"in i}function XT(i){return i!=null&&typeof i=="object"&&"video"in i}function KT(i){return i!=null&&typeof i=="object"&&"uri"in i}function ng(i){var t;let o;if(YT(i)&&(o=i.name),!(KT(i)&&(o=i.uri,o===void 0))&&!(XT(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ig(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function lg(i){for(const t of["models","tunedModels","publisherModels"])if(QT(i,t))return i[t];return[]}function QT(i,t){return i!==null&&typeof i=="object"&&t in i}function ZT(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function $T(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=ZT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function og(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function WT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ag(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function il(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function sg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>US(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function eS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function tS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function wa(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],sg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const h=u(i,["metadata","updateTime"]);h!=null&&c(t,["updateTime"],h);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=u(i,["metadata","output"]);return g!=null&&c(t,["dest"],jT(ag(g))),t}function Au(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],sg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const h=u(i,["startTime"]);h!=null&&c(t,["startTime"],h);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],nS(S));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],eS(ag(E)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function nS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function iS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>DS(i,p))),c(o,["requests","requests"],f)}return o}function lS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function oS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function aS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],il(i,a)),o}function sS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],il(i,a)),o}function rS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],uS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const h=u(i,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function uS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function rg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>qS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function cS(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function fS(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],tS(WT(r))),o}function vh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],iS(i,og(i,r)));const f=u(t,["config"]);return f!=null&&cS(f,o),o}function dS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],pe(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],lS(og(i,r)));const f=u(t,["config"]);return f!=null&&fS(f,o),o}function pS(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function mS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],ES(i,r));const f=u(t,["config"]);return f!=null&&pS(f,o),o}function hS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],il(i,a)),o}function gS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],il(i,a)),o}function yS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function vS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function TS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Hu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],SS(r,o)),gT(o,{"requests[].*":"requests[].request.*"})),o}function SS(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ES(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],TS(i,r)),o}function _S(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function CS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function xS(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],rg(tt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],zu(q));const P=u(t,["responseJsonSchema"]);if(P!=null&&c(a,["responseJsonSchema"],P),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(t,["safetySettings"]);if(o!==void 0&&V!=null){let ye=V;Array.isArray(ye)&&(ye=ye.map(Oe=>BS(Oe))),c(o,["safetySettings"],ye)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ye=nl(J);Array.isArray(ye)&&(ye=ye.map(Oe=>OS(tl(Oe)))),c(o,["tools"],ye)}const $=u(t,["toolConfig"]);if(o!==void 0&&$!=null&&c(o,["toolConfig"],PS($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],gn(i,W));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const le=u(t,["mediaResolution"]);le!=null&&c(a,["mediaResolution"],le);const Y=u(t,["speechConfig"]);if(Y!=null&&c(a,["speechConfig"],Vu(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(t,["thinkingConfig"]);ie!=null&&c(a,["thinkingConfig"],ie);const ge=u(t,["imageConfig"]);ge!=null&&c(a,["imageConfig"],IS(ge));const Re=u(t,["enableEnhancedCivicAnswers"]);if(Re!=null&&c(a,["enableEnhancedCivicAnswers"],Re),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function NS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>rS(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const h=u(i,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function RS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],il(i,a)),o}function bS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],il(i,a)),o}function MS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function wS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function IS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function DS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let h=Lt(r);Array.isArray(h)&&(h=h.map(y=>rg(y))),c(o,["request","contents"],h)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],xS(i,p,u(o,["request"],{}))),o}function US(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],NS(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function LS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function kS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function GS(i){const t={},o=u(i,["config"]);return o!=null&&LS(o,t),t}function HS(i){const t={},o=u(i,["config"]);return o!=null&&kS(o,t),t}function zS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>wa(p))),c(t,["batchJobs"],f)}return t}function VS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Au(p))),c(t,["batchJobs"],f)}return t}function qS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],_S(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],CS(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],oS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function BS(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function PS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],AS(a)),t}function OS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],MS(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],wS(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(mn||(mn={}));class ci{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=vh(this.apiClient,t),a=o._url,r=O("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=dS(this.apiClient,t);return h=O("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const g=vh(this.apiClient,t);return h=O("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>wa(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=mS(this.apiClient,t);return f=O("{model}:asyncBatchEmbedContent",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>wa(y))}}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=bS(this.apiClient,t);return h=O("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const g=RS(this.apiClient,t);return h=O("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>wa(v))}}async cancel(t){var o,a,r,f;let p="",h={};if(this.apiClient.isVertexAI()){const y=sS(this.apiClient,t);p=O("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=aS(this.apiClient,t);p=O("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=HS(t);return h=O("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=VS(v),E=new mh;return Object.assign(E,S),E})}else{const g=GS(t);return h=O("batches",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=zS(v),E=new mh;return Object.assign(E,S),E})}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=gS(this.apiClient,t);return h=O("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>vS(v))}else{const g=hS(this.apiClient,t);return h=O("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>yS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Th(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>mE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function YS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Lt(p);Array.isArray(v)&&(v=v.map(S=>Th(S))),c(t,["contents"],v)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],Th(tt(h)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>gE(S))),c(t,["tools"],v)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],hE(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function XS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=Lt(p);Array.isArray(S)&&(S=S.map(E=>E)),c(t,["contents"],S)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],tt(h));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>yE(E))),c(t,["tools"],S)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function KS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Zh(i,a));const r=u(t,["config"]);return r!=null&&YS(r,o),o}function QS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Zh(i,a));const r=u(t,["config"]);return r!=null&&XS(r,o),o}function ZS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function $S(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function WS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function jS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function eE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nE(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function iE(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function lE(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function oE(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function aE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function sE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function rE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function uE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function cE(i){const t={},o=u(i,["config"]);return o!=null&&rE(o,t),t}function fE(i){const t={},o=u(i,["config"]);return o!=null&&uE(o,t),t}function dE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function pE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function mE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],eE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],tE(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],JS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function hE(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],nE(a)),t}function gE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],aE(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],sE(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function yE(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>iE(E))),c(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function vE(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function TE(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function SE(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],gn(i,a));const r=u(t,["config"]);return r!=null&&vE(r,o),o}function EE(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],gn(i,a));const r=u(t,["config"]);return r!=null&&TE(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _E extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=QS(this.apiClient,t);return h=O("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=KS(this.apiClient,t);return h=O("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=oE(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=lE(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=$S(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=jS(v),E=new dh;return Object.assign(E,S),E})}else{const g=ZS(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=WS(v),E=new dh;return Object.assign(E,S),E})}}async update(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=EE(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=SE(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=fE(t);return h=O("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=pE(v),E=new ph;return Object.assign(E,S),E})}else{const g=cE(t);return h=O("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=dE(v),E=new ph;return Object.assign(E,S),E})}}}function ka(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Sh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(i){return this instanceof ee?(this.v=i,this):new ee(i)}function qt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(D){return Promise.resolve(D).then(A,S)}}function h(A,D){a[A]&&(r[A]=function(G){return new Promise(function(U,q){f.push([A,G,U,q])>1||y(A,G)})},D&&(r[A]=D(r[A])))}function y(A,D){try{g(a[A](D))}catch(G){E(f[0][3],G)}}function g(A){A.value instanceof ee?Promise.resolve(A.value.v).then(v,S):E(f[0][2],A)}function v(A){y("next",A)}function S(A){y("throw",A)}function E(A,D){A(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Bt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Sh=="function"?Sh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(h,y){p=i[f](p),r(h,y,p.done,p.value)})}}function r(f,p,h,y){Promise.resolve(y).then(function(g){f({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ug(o)}function ug(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function AE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Eh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!ug(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class xE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new NE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class NE{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),AE(f)}async sendMessage(t){var o;await this.sendPromise;const a=tt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,h;const y=await r,g=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(S))!==null&&h!==void 0?h:[]);const A=g?[g]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=tt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?Eh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return qt(this,arguments,function*(){var r,f,p,h,y,g;const v=[];try{for(var S=!0,E=Bt(t),A;A=yield ee(E.next()),r=A.done,!r;S=!0){h=A.value,S=!1;const D=h;if(CE(D)){const G=(g=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;G!==void 0&&v.push(G)}yield yield ee(D)}}catch(D){f={error:D}}finally{try{!S&&!r&&(p=E.return)&&(yield ee(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Eh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,no.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RE(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function bE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ME(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],ng(o)),t}function wE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function IE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],ng(o)),t}function DE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function UE(i){const t={},o=u(i,["config"]);return o!=null&&DE(o,t),t}function LE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=UE(t);return f=O("files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=LE(y),v=new VT;return Object.assign(v,g),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RE(t);return f=O("upload/v1beta/files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=bE(y),v=new qT;return Object.assign(v,g),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=IE(t);return f=O("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ME(t);return f=O("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=wE(y),v=new BT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ia(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>WE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function HE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function zE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function VE(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function qE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const h=u(i,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const P=u(i,["speechConfig"]);P!=null&&c(t,["speechConfig"],P);const V=u(i,["stopSequences"]);V!=null&&c(t,["stopSequences"],V);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const W=u(i,["topK"]);W!=null&&c(t,["topK"],W);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function BE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function PE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function OE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],qu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],GE(tt(D)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let W=nl(G);Array.isArray(W)&&(W=W.map(Z=>e_(tl(Z)))),c(t,["setup","tools"],W)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],jE(U));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const P=u(i,["outputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","outputAudioTranscription"],P);const V=u(i,["realtimeInputConfig"]);t!==void 0&&V!=null&&c(t,["setup","realtimeInputConfig"],V);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function FE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],qE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],qu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],tt(D));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let Z=nl(G);Array.isArray(Z)&&(Z=Z.map(le=>t_(tl(le)))),c(t,["setup","tools"],Z)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const P=u(i,["outputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","outputAudioTranscription"],P);const V=u(i,["realtimeInputConfig"]);t!==void 0&&V!=null&&c(t,["setup","realtimeInputConfig"],V);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const $=u(i,["proactivity"]);t!==void 0&&$!=null&&c(t,["setup","proactivity"],$);const W=u(i,["explicitVadSignal"]);return t!==void 0&&W!=null&&c(t,["setup","explicitVadSignal"],W),o}function JE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],pe(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],OE(r,o)),o}function YE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],pe(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],FE(r,o)),o}function XE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function KE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function QE(i){const t={},o=u(i,["media"]);if(o!=null){let g=$h(o);Array.isArray(g)&&(g=g.map(v=>Ia(v))),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ia(jh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Ia(Wh(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const h=u(i,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ZE(i){const t={},o=u(i,["media"]);if(o!=null){let g=$h(o);Array.isArray(g)&&(g=g.map(v=>v)),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],jh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Wh(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const h=u(i,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function $E(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],n_(p));const h=u(i,["goAway"]);h!=null&&c(t,["goAway"],h);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const g=u(i,["voiceActivityDetectionSignal"]);g!=null&&c(t,["voiceActivityDetectionSignal"],g);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],i_(v)),t}function WE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],HE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],zE(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ia(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function jE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function e_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],BE(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],PE(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function t_(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>VE(E))),c(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function n_(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const h=u(i,["totalTokenCount"]);h!=null&&c(t,["totalTokenCount"],h);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["promptTokensDetails"],A)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["responseTokensDetails"],A)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function i_(i){const t={},o=u(i,["type"]);return o!=null&&c(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l_(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function o_(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],a_(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const h=u(i,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function a_(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function s_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let f=Lt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function r_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function u_(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],c_(a)),t}function c_(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function za(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>TC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function f_(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function d_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function p_(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],tt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>pg(h))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],lC(f)),o}function m_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Lt(r);Array.isArray(p)&&(p=p.map(h=>za(h))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&d_(f),o}function h_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Lt(r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&p_(f,o),o}function g_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function v_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],pe(i,a)),o}function T_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],pe(i,a)),o}function S_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function E_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function __(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&c(t,["parameters","guidanceScale"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const P=u(i,["editMode"]);t!==void 0&&P!=null&&c(t,["parameters","editMode"],P);const V=u(i,["baseSteps"]);return t!==void 0&&V!=null&&c(t,["parameters","editConfig","baseSteps"],V),o}function C_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>xC(y))),c(o,["instances[0]","referenceImages"],h)}const p=u(t,["config"]);return p!=null&&__(p,o),o}function A_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Va(f))),c(t,["generatedImages"],r)}return t}function x_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function N_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const h=u(i,["autoTruncate"]);return t!==void 0&&h!=null&&c(t,["parameters","autoTruncate"],h),o}function R_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let h=Hu(i,r);Array.isArray(h)&&(h=h.map(y=>y)),c(o,["requests[]","content"],h)}const f=u(t,["config"]);f!=null&&x_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],pe(i,p)),o}function b_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Hu(i,r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&N_(f,o),o}function M_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function w_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>u_(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function I_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function D_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function U_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function L_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function k_(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function G_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],za(tt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],zu(q));const P=u(t,["responseJsonSchema"]);if(P!=null&&c(a,["responseJsonSchema"],P),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(t,["safetySettings"]);if(o!==void 0&&V!=null){let ye=V;Array.isArray(ye)&&(ye=ye.map(Oe=>NC(Oe))),c(o,["safetySettings"],ye)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ye=nl(J);Array.isArray(ye)&&(ye=ye.map(Oe=>UC(tl(Oe)))),c(o,["tools"],ye)}const $=u(t,["toolConfig"]);if(o!==void 0&&$!=null&&c(o,["toolConfig"],DC($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],gn(i,W));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const le=u(t,["mediaResolution"]);le!=null&&c(a,["mediaResolution"],le);const Y=u(t,["speechConfig"]);if(Y!=null&&c(a,["speechConfig"],Vu(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(t,["thinkingConfig"]);ie!=null&&c(a,["thinkingConfig"],ie);const ge=u(t,["imageConfig"]);ge!=null&&c(a,["imageConfig"],uC(ge));const Re=u(t,["enableEnhancedCivicAnswers"]);if(Re!=null&&c(a,["enableEnhancedCivicAnswers"],Re),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function H_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],tt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],zu(q));const P=u(t,["responseJsonSchema"]);P!=null&&c(a,["responseJsonSchema"],P);const V=u(t,["routingConfig"]);V!=null&&c(a,["routingConfig"],V);const J=u(t,["modelSelectionConfig"]);J!=null&&c(a,["modelConfig"],J);const $=u(t,["safetySettings"]);if(o!==void 0&&$!=null){let B=$;Array.isArray(B)&&(B=B.map(K=>K)),c(o,["safetySettings"],B)}const W=u(t,["tools"]);if(o!==void 0&&W!=null){let B=nl(W);Array.isArray(B)&&(B=B.map(K=>pg(tl(K)))),c(o,["tools"],B)}const Z=u(t,["toolConfig"]);o!==void 0&&Z!=null&&c(o,["toolConfig"],Z);const le=u(t,["labels"]);o!==void 0&&le!=null&&c(o,["labels"],le);const Y=u(t,["cachedContent"]);o!==void 0&&Y!=null&&c(o,["cachedContent"],gn(i,Y));const ie=u(t,["responseModalities"]);ie!=null&&c(a,["responseModalities"],ie);const ge=u(t,["mediaResolution"]);ge!=null&&c(a,["mediaResolution"],ge);const Re=u(t,["speechConfig"]);Re!=null&&c(a,["speechConfig"],Vu(Re));const ye=u(t,["audioTimestamp"]);ye!=null&&c(a,["audioTimestamp"],ye);const Oe=u(t,["thinkingConfig"]);Oe!=null&&c(a,["thinkingConfig"],Oe);const ot=u(t,["imageConfig"]);if(ot!=null&&c(a,["imageConfig"],cC(ot)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const I=u(t,["modelArmorConfig"]);return o!==void 0&&I!=null&&c(o,["modelArmorConfig"],I),a}function _h(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Lt(r);Array.isArray(p)&&(p=p.map(h=>za(h))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],G_(i,f,o)),o}function Ch(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Lt(r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],H_(i,f,o)),o}function Ah(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>o_(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const h=u(i,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function xh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["candidates"],g)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const h=u(i,["responseId"]);h!=null&&c(t,["responseId"],h);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function z_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&c(t,["parameters","personGeneration"],h);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function V_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&c(t,["parameters","guidanceScale"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const P=u(i,["imageSize"]);t!==void 0&&P!=null&&c(t,["parameters","sampleImageSize"],P);const V=u(i,["enhancePrompt"]);return t!==void 0&&V!=null&&c(t,["parameters","enhancePrompt"],V),o}function q_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&z_(f,o),o}function B_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&V_(f,o),o}function P_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>eC(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],fg(r)),t}function O_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Va(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],dg(r)),t}function F_(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const h=u(i,["personGeneration"]);if(t!==void 0&&h!=null&&c(t,["parameters","personGeneration"],h),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=u(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],qa(v));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>YC(A))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function J_(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const h=u(i,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=u(i,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const D=u(i,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const G=u(i,["lastFrame"]);t!==void 0&&G!=null&&c(t,["instances[0]","lastFrame"],Pt(G));const U=u(i,["referenceImages"]);if(t!==void 0&&U!=null){let V=U;Array.isArray(V)&&(V=V.map(J=>XC(J))),c(t,["instances[0]","referenceImages"],V)}const q=u(i,["mask"]);t!==void 0&&q!=null&&c(t,["instances[0]","mask"],JC(q));const P=u(i,["compressionQuality"]);return t!==void 0&&P!=null&&c(t,["parameters","compressionQuality"],P),o}function Y_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Z_(p)),t}function X_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],$_(p)),t}function K_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],qa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],mg(p));const h=u(t,["source"]);h!=null&&W_(h,o);const y=u(t,["config"]);return y!=null&&F_(y,o),o}function Q_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Pt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],hg(p));const h=u(t,["source"]);h!=null&&j_(h,o);const y=u(t,["config"]);return y!=null&&J_(y,o),o}function Z_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>nC(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function $_(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>iC(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function W_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],qa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],mg(f)),o}function j_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Pt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],hg(f)),o}function eC(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],fC(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],fg(r)),t}function Va(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],cg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],dg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function tC(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],cg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function nC(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],OC(o)),t}function iC(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],FC(o)),t}function lC(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const h=u(i,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const P=u(i,["speechConfig"]);P!=null&&c(t,["speechConfig"],P);const V=u(i,["stopSequences"]);V!=null&&c(t,["stopSequences"],V);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const W=u(i,["topK"]);W!=null&&c(t,["topK"],W);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function oC(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],pe(i,a)),o}function aC(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],pe(i,a)),o}function sC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function rC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function uC(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function cC(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function fC(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],On(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function qa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],On(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Pt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function dC(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=u(t,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],ig(i,h)),a}function pC(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=u(t,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],ig(i,h)),a}function mC(i,t){const o={},a=u(t,["config"]);return a!=null&&dC(i,a,o),o}function hC(i,t){const o={},a=u(t,["config"]);return a!=null&&pC(i,a,o),o}function gC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=lg(r);Array.isArray(f)&&(f=f.map(p=>xu(p))),c(t,["models"],f)}return t}function yC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=lg(r);Array.isArray(f)&&(f=f.map(p=>Nu(p))),c(t,["models"],f)}return t}function vC(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function xu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],LC(p));const h=u(i,["inputTokenLimit"]);h!=null&&c(t,["inputTokenLimit"],h);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=u(i,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const S=u(i,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const D=u(i,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function Nu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>I_(E))),c(t,["endpoints"],S)}const h=u(i,["labels"]);h!=null&&c(t,["labels"],h);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],kC(y));const g=u(i,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const v=u(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["checkpoints"],S)}return t}function TC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],D_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],U_(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],l_(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function SC(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Pt(o)),t}function EC(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=u(i,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),o}function _C(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["source"]);r!=null&&AC(r,o);const f=u(t,["config"]);return f!=null&&EC(f,o),o}function CC(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Va(r))),c(t,["generatedImages"],a)}return t}function AC(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Pt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>SC(h))),c(t,["instances[0]","productImages"],p)}return o}function xC(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Pt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],vC(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],f_(p));const h=u(i,["styleImageConfig"]);h!=null&&c(t,["styleImageConfig"],h);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function fg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function dg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function NC(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function RC(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Pt(o)),t}function bC(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const h=u(i,["binaryColorThreshold"]);t!==void 0&&h!=null&&c(t,["parameters","binaryColorThreshold"],h);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function MC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["source"]);r!=null&&IC(r,o);const f=u(t,["config"]);return f!=null&&bC(f,o),o}function wC(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>tC(r))),c(t,["generatedMasks"],a)}return t}function IC(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Pt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],RC(f)),o}function DC(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],L_(a)),t}function UC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],sC(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],rC(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function pg(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>k_(E))),c(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function LC(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function kC(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function GC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function HC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function zC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],pe(i,a));const r=u(t,["config"]);return r!=null&&GC(r,o),o}function VC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["config"]);return r!=null&&HC(r,o),o}function qC(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const h=u(i,["outputMimeType"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","mimeType"],h);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=u(i,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),o}function BC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],pe(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Pt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&qC(p,o),o}function PC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Va(f))),c(t,["generatedImages"],r)}return t}function OC(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],On(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function FC(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function JC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Pt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function YC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],qa(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function XC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Pt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function mg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function hg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function QC(i){const t={},o=u(i,["config"]);return o!=null&&KC(o,t),t}function ZC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function $C(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&ZC(a,t),t}function WC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function jC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function eA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],nA(p)),t}function tA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&jC(r,t),t}function nA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function iA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function lA(i){const t={},o=u(i,["config"]);return o!=null&&iA(o,t),t}function oA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function gg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),c(t,["customMetadata"],h)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function aA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&gg(a,t),t}function sA(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA="Content-Type",uA="X-Server-Timeout",cA="User-Agent",Ru="x-goog-api-client",fA="1.38.0",dA=`google-genai-sdk/${fA}`,pA="v1beta1",mA="v1beta";class hA{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!h?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:pA}else{if(!this.clientOptions.apiKey)throw new no({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:mA,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Eu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,h]of Object.entries(t.queryParams))r.searchParams.append(p,String(h));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>f.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&gA(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Nh(r),new _u(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Nh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return qt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield ee(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=f.decode(v,{stream:!0});try{const D=JSON.parse(S);if("error"in D){const G=JSON.parse(JSON.stringify(D.error)),U=G.status,q=G.code,P=`got status: ${U}. ${JSON.stringify(D)}`;if(q>=400&&q<600)throw new no({message:P,status:q})}}catch(D){if(D.name==="ApiError")throw D}p+=S;let E=-1,A=0;for(;;){E=-1,A=0;for(const U of y){const q=p.indexOf(U);q!==-1&&(E===-1||q<E)&&(E=q,A=U.length)}if(E===-1)break;const D=p.substring(0,E);p=p.substring(E+A);const G=D.trim();if(G.startsWith(h)){const U=G.substring(h.length).trim();try{const q=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ee(new _u(q))}catch(q){throw new Error(`exception parsing stream chunk ${U}. ${q}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=dA+" "+this.clientOptions.userAgentExtra;return t[cA]=o,t[Ru]=o,t[rA]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(uA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y={file:r},g=this.getFileName(t),v=O("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,y,o==null?void 0:o.httpOptions);return f.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),h=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&gg(a,S);const E=await this.fetchUploadUrl(g,h,y,v,S,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var h;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Nh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new no({message:r,status:o}):new Error(r)}}function gA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const h=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const g=p[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yA="mcp_used/unknown";let vA=!1;function yg(i){for(const t of i)if(TA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return vA}function vg(i){var t;const o=(t=i[Ru])!==null&&t!==void 0?t:"";i[Ru]=(o+` ${yA}`).trimStart()}function TA(i){return i!==null&&typeof i=="object"&&i instanceof Bu}function SA(i){return qt(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield ee(o.listTools({cursor:r}));for(const h of p.tools)yield yield ee(h),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Bu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Bu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Bt(SA(v))),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const S=r;p.push(S);const E=S.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(S){o={error:S}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),$T(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function EA(i,t,o){const a=new OT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class _A{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=xA(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(V=>{g=V}),S=t.callbacks,E=function(){g({})},A=this.apiClient,D={onopen:E,onmessage:V=>{EA(A,S.onmessage,V)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(V){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(V){}},G=this.webSocketFactory.create(y,AA(p),D);G.connect(),await v;const P={setup:{model:pe(this.apiClient,t.model)}};return G.send(JSON.stringify(P)),new CA(G,this.apiClient)}}class CA{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=KE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=XE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl($i.PLAY)}pause(){this.sendPlaybackControl($i.PAUSE)}stop(){this.sendPlaybackControl($i.STOP)}resetContext(){this.sendPlaybackControl($i.RESET_CONTEXT)}close(){this.conn.close()}}function AA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function xA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RA(i,t,o){const a=new PT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=$E(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class bA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new _A(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&yg(t.config.tools)&&vg(S);const E=DA(S);if(this.apiClient.isVertexAI()){const Y=this.apiClient.getProject(),ie=this.apiClient.getLocation(),ge=this.apiClient.getApiKey(),Re=!!Y&&!!ie||!!ge;this.apiClient.getCustomBaseUrl()&&!Re?v=y:(v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Y=this.apiClient.getApiKey();let ie="BidiGenerateContent",ge="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ie}?${ge}=${Y}`}let A=()=>{};const D=new Promise(Y=>{A=Y}),G=t.callbacks,U=function(){var Y;(Y=G==null?void 0:G.onopen)===null||Y===void 0||Y.call(G),A({})},q=this.apiClient,P={onopen:U,onmessage:Y=>{RA(q,G.onmessage,Y)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(Y){}},V=this.webSocketFactory.create(v,IA(E),P);V.connect(),await D;let J=pe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Y=this.apiClient.getProject(),ie=this.apiClient.getLocation();Y&&ie&&(J=`projects/${Y}/locations/${ie}/`+J)}let $={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Da.AUDIO]}:t.config.responseModalities=[Da.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(h=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],Z=[];for(const Y of W)if(this.isCallableTool(Y)){const ie=Y;Z.push(await ie.tool())}else Z.push(Y);Z.length>0&&(t.config.tools=Z);const le={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?$=YE(this.apiClient,le):$=JE(this.apiClient,le),delete $.config,V.send(JSON.stringify($)),new wA(V,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const MA={turnComplete:!0};class wA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Lt(o.turns),t.isVertexAI()||(a=a.map(r=>za(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(NA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},MA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ZE(t)}:o={realtimeInput:QE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function IA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function DA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rh=10;function bh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(el(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function el(i){return"callTool"in i&&typeof i.callTool=="function"}function UA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>el(r)))!==null&&a!==void 0?a:!1}function Mh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(el(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function wh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LA extends hn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!UA(o)||bh(o.config))return await this.generateContentInternal(y);const g=Mh(o);if(g.length>0){const G=g.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${G}.`)}let v,S;const E=Lt(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Rh;let D=0;for(;D<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const G=v.candidates[0].content,U=[];for(const q of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(el(q)){const V=await q.callTool(v.functionCalls);U.push(...V)}D++,S={role:"user",parts:U},y.contents=Lt(y.contents),y.contents.push(G),y.contents.push(S),wh(y.config)&&(E.push(G),E.push(S))}return wh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,f,p,h;if(this.maybeMoveToResponseJsonSchem(o),bh(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Mh(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(h=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let h;return f?h={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new ci(mn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>el(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(h.config.tools=p,t.config&&t.config.tools&&yg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),vg(g),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(el(p)){const h=p,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,h)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Rh;let p=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(g,v,S){return qt(this,arguments,function*(){for(var E,A,D,G,U,q;h<f;){p&&(h++,p=!1);const $=yield ee(g.processParamsMaybeAddMcpUsage(S)),W=yield ee(g.generateContentStreamInternal($)),Z=[],le=[];try{for(var P=!0,V=(A=void 0,Bt(W)),J;J=yield ee(V.next()),E=J.done,!E;P=!0){G=J.value,P=!1;const Y=G;if(yield yield ee(Y),Y.candidates&&(!((U=Y.candidates[0])===null||U===void 0)&&U.content)){le.push(Y.candidates[0].content);for(const ie of(q=Y.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(h<f&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const ge=yield ee(v.get(ie.functionCall.name).callTool([ie.functionCall]));Z.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(Y){A={error:Y}}finally{try{!P&&!E&&(D=V.return)&&(yield ee(D.call(V)))}finally{if(A)throw A.error}}if(Z.length>0){p=!0;const Y=new Wl;Y.candidates=[{content:{role:"user",parts:Z}}],yield yield ee(Y);const ie=[];ie.push(...le),ie.push({role:"user",parts:Z});const ge=Lt(S.contents).concat(ie);S.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ch(this.apiClient,t);return h=O("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=xh(v),E=new Wl;return Object.assign(E,S),E})}else{const g=_h(this.apiClient,t);return h=O("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Ah(v),E=new Wl;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ch(this.apiClient,t);return h=O("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return qt(this,arguments,function*(){var E,A,D,G;try{for(var U=!0,q=Bt(S),P;P=yield ee(q.next()),E=P.done,!E;U=!0){G=P.value,U=!1;const V=G,J=xh(yield ee(V.json()));J.sdkHttpResponse={headers:V.headers};const $=new Wl;Object.assign($,J),yield yield ee($)}}catch(V){A={error:V}}finally{try{!U&&!E&&(D=q.return)&&(yield ee(D.call(q)))}finally{if(A)throw A.error}}})})}else{const g=_h(this.apiClient,t);return h=O("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(S){return qt(this,arguments,function*(){var E,A,D,G;try{for(var U=!0,q=Bt(S),P;P=yield ee(q.next()),E=P.done,!E;U=!0){G=P.value,U=!1;const V=G,J=Ah(yield ee(V.json()));J.sdkHttpResponse={headers:V.headers};const $=new Wl;Object.assign($,J),yield yield ee($)}}catch(V){A={error:V}}finally{try{!U&&!E&&(D=q.return)&&(yield ee(D.call(q)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=b_(this.apiClient,t);return h=O("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=w_(v),E=new oh;return Object.assign(E,S),E})}else{const g=R_(this.apiClient,t);return h=O("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=M_(v),E=new oh;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=B_(this.apiClient,t);return h=O("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=O_(v),E=new ah;return Object.assign(E,S),E})}else{const g=q_(this.apiClient,t);return h=O("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=P_(v),E=new ah;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=C_(this.apiClient,t);return f=O("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=A_(y),v=new IT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=BC(this.apiClient,t);return f=O("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=PC(y),v=new DT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=_C(this.apiClient,t);return f=O("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=CC(y),v=new UT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=MC(this.apiClient,t);return f=O("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=wC(y),v=new LT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=aC(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}else{const g=oC(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=hC(this.apiClient,t);return h=O("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=yC(v),E=new sh;return Object.assign(E,S),E})}else{const g=mC(this.apiClient,t);return h=O("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=gC(v),E=new sh;return Object.assign(E,S),E})}}async update(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=VC(this.apiClient,t);return h=O("{model}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}else{const g=zC(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=T_(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=E_(v),E=new rh;return Object.assign(E,S),E})}else{const g=v_(this.apiClient,t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=S_(v),E=new rh;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,t);return h=O("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=y_(v),E=new uh;return Object.assign(E,S),E})}else{const g=m_(this.apiClient,t);return h=O("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=g_(v),E=new uh;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=s_(this.apiClient,t);return f=O("{model}:computeTokens",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=r_(y),v=new kT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Q_(this.apiClient,t);return h=O("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=X_(v),E=new Ua;return Object.assign(E,S),E})}else{const g=K_(this.apiClient,t);return h=O("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const S=Y_(v),E=new Ua;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kA extends hn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=xT(t);return h=O("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const g=AT(t);return h=O("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=yT(t);return f=O("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function HA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>YA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function zA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const h=u(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],JA(i,h));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function VA(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],zA(i,a,o)),o}function qA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function OA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function FA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],qu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],HA(tt(D)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let W=nl(G);Array.isArray(W)&&(W=W.map(Z=>KA(tl(Z)))),c(t,["setup","tools"],W)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],XA(U));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const P=u(i,["outputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","outputAudioTranscription"],P);const V=u(i,["realtimeInputConfig"]);t!==void 0&&V!=null&&c(t,["setup","realtimeInputConfig"],V);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function JA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],pe(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],FA(r,o)),o}function YA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],qA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],BA(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],GA(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function XA(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function KA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],PA(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],OA(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function ZA(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=QA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class $A extends hn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=VA(this.apiClient,t);f=O("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const y=ZA(h,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function jA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&WA(a,t),t}function ex(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function tx(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function nx(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&tx(a,t),t}function ix(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lx extends hn{constructor(t){super(),this.apiClient=t,this.list=async o=>new ci(mn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ex(t);return f=O("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jA(t);r=O("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nx(t);return f=O("{parent}/documents",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=ix(y),v=new GT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends hn{constructor(t,o=new lx(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new ci(mn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QC(t);return f=O("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WC(t);return f=O("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$C(t);r=O("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lA(t);return f=O("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=oA(y),v=new HT;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aA(t);return f=O("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=sA(y),v=new zT;return Object.assign(v,g),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tA(t);return f=O("{file_search_store_name}:importFile",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=eA(y),v=new ku;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Tg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const ax=()=>Tg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Mu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kt extends Error{}class lt extends kt{constructor(t,o,a,r){super(`${lt.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Ba({message:a,cause:Mu(o)});const f=o;return t===400?new Eg(t,f,a,r):t===401?new _g(t,f,a,r):t===403?new Cg(t,f,a,r):t===404?new Ag(t,f,a,r):t===409?new xg(t,f,a,r):t===422?new Ng(t,f,a,r):t===429?new Rg(t,f,a,r):t>=500?new bg(t,f,a,r):new lt(t,f,a,r)}}class wu extends lt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ba extends lt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Sg extends Ba{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Eg extends lt{}class _g extends lt{}class Cg extends lt{}class Ag extends lt{}class xg extends lt{}class Ng extends lt{}class Rg extends lt{}class bg extends lt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sx=/^[a-z][a-z0-9+.-]*:/i,rx=i=>sx.test(i);let Iu=i=>(Iu=Array.isArray,Iu(i));const ux=Iu;let cx=ux;const Ih=cx;function fx(i){if(!i)return!0;for(const t in i)return!1;return!0}function dx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const px=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new kt(`${i} must be an integer`);if(t<0)throw new kt(`${i} must be a positive integer`);return t},mx=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hx=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yx=()=>{var i,t,o,a,r;const f=gx();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":Uh(Deno.build.os),"X-Stainless-Arch":Dh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":Uh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Dh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=vx();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vx(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Dh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Uh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let xa;const Tx=()=>xa??(xa=yx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Mg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function Ex(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Mg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function wg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function _x(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pu(i,t,o){return Ig(),new File(i,t??"unknown_file",o)}function Ax(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const xx=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Nx=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Dg(i),Rx=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function bx(i,t,o){if(Ig(),i=await i,Nx(i))return i instanceof File?i:pu([await i.arrayBuffer()],i.name);if(Rx(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),pu(await Du(r),t,o)}const a=await Du(i);if(t||(t=Ax(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return pu(a,t,o)}async function Du(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Dg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(xx(i))try{for(var h=!0,y=Bt(i),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const v=r;p.push(...await Du(v))}}catch(v){o={error:v}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${Mx(i)}`)}return p}function Mx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug{constructor(t){this._client=t}}Ug._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lh=Object.freeze(Object.create(null)),wx=(i=Lg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,S,E)=>{var A,D,G;/[?#]/.test(S)&&(r=!0);const U=a[E];let q=(r?encodeURIComponent:i)(""+U);return E!==a.length&&(U==null||typeof U=="object"&&U.toString===((G=Object.getPrototypeOf((D=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:Lh))!==null&&D!==void 0?D:Lh))===null||G===void 0?void 0:G.toString))&&(q=U+"",f.push({start:v.length+S.length,length:q.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+S+(E===a.length?"":q)},""),h=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(h))!==null;)f.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(f.sort((v,S)=>v.start-S.start),f.length>0){let v=0;const S=f.reduce((E,A)=>{const D=" ".repeat(A.start-v),G="^".repeat(A.length);return v=A.start+A.length,E+D+G},"");throw new kt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),Na=wx(Lg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kg extends Ug{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=ka(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Na`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Na`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Na`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,h=ka(f,["api_version"]);return this._client.get(Na`/${p}/interactions/${t}`,Object.assign(Object.assign({query:h},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}kg._key=Object.freeze(["interactions"]);class Gg extends kg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ix(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ra;function Pu(i){let t;return(Ra??(t=new globalThis.TextEncoder,Ra=t.encode.bind(t)))(i)}let ba;function kh(i){let t;return(ba??(t=new globalThis.TextDecoder,ba=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Pu(t):t;this.buffer=Ix([this.buffer,o]);const a=[];let r;for(;(r=Dx(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(kh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=kh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Pa.NEWLINE_CHARS=new Set([`
`,"\r"]);Pa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Dx(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Ux(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ga={off:0,error:200,warn:300,info:400,debug:500},Gh=(i,t,o)=>{if(i){if(dx(Ga,i))return i;it(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ga))}`)}};function eo(){}function Ma(i,t,o){return!t||Ga[i]>Ga[o]?eo:t[i].bind(t)}const Lx={error:eo,warn:eo,info:eo,debug:eo};let Hh=new WeakMap;function it(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return Lx;const r=Hh.get(o);if(r&&r[0]===a)return r[1];const f={error:Ma("error",o,a),warn:Ma("warn",o,a),info:Ma("info",o,a),debug:Ma("debug",o,a)};return Hh.set(o,[a,f]),f}const ui=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wi{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?it(a):console;function p(){return qt(this,arguments,function*(){var y,g,v,S;if(r)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,D=Bt(kx(t,o)),G;G=yield ee(D.next()),y=G.done,!y;A=!0){S=G.value,A=!1;const U=S;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ee(JSON.parse(U.data))}catch(q){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),q}}}catch(U){g={error:U}}finally{try{!A&&!y&&(v=D.return)&&(yield ee(v.call(D)))}finally{if(g)throw g.error}}E=!0}catch(U){if(bu(U))return yield ee(void 0);throw U}finally{E||o.abort()}})}return new Wi(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return qt(this,arguments,function*(){var y,g,v,S;const E=new Pa,A=wg(t);try{for(var D=!0,G=Bt(A),U;U=yield ee(G.next()),y=U.done,!y;D=!0){S=U.value,D=!1;const q=S;for(const P of E.decode(q))yield yield ee(P)}}catch(q){g={error:q}}finally{try{!D&&!y&&(v=G.return)&&(yield ee(v.call(G)))}finally{if(g)throw g.error}}for(const q of E.flush())yield yield ee(q)})}function p(){return qt(this,arguments,function*(){var y,g,v,S;if(r)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,D=Bt(f()),G;G=yield ee(D.next()),y=G.done,!y;A=!0){S=G.value,A=!1;const U=S;E||U&&(yield yield ee(JSON.parse(U)))}}catch(U){g={error:U}}finally{try{!A&&!y&&(v=D.return)&&(yield ee(v.call(D)))}finally{if(g)throw g.error}}E=!0}catch(U){if(bu(U))return yield ee(void 0);throw U}finally{E||o.abort()}})}return new Wi(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new Wi(()=>r(t),this.controller,this.client),new Wi(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Mg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=Pu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function kx(i,t){return qt(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");const h=new Hx,y=new Pa,g=wg(i.body);try{for(var v=!0,S=Bt(Gx(g)),E;E=yield ee(S.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const A=p;for(const D of y.decode(A)){const G=h.decode(D);G&&(yield yield ee(G))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=S.return)&&(yield ee(f.call(S)))}finally{if(r)throw r.error}}for(const A of y.flush()){const D=h.decode(A);D&&(yield yield ee(D))}})}function Gx(i){return qt(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var h=!0,y=Bt(i),g;g=yield ee(y.next()),o=g.done,!o;h=!0){f=g.value,h=!1;const v=f;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Pu(v):v;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let A;for(;(A=Ux(p))!==-1;)yield yield ee(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!h&&!o&&(r=y.return)&&(yield ee(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ee(p))})}class Hx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=zx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function zx(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Vx(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var h;if(t.options.stream)return it(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):Wi.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await o.json():await o.text()})();return it(i).debug(`[${a}] response parsed`,ui({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou extends Promise{constructor(t,o,a=Vx){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ou(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hg=Symbol("brand.privateNullableHeaders");function*qx(i){if(!i)return;if(Hg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Ih(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Ih(a[1])?a[1]:[a[1]];let p=!1;for(const h of f)h!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,h])}}const jl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of qx(a)){const h=f.toLowerCase();r.has(h)||(t.delete(f),r.add(h)),p===null?(t.delete(f),o.add(h)):(t.append(f,p),o.delete(h))}}return{[Hg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mu=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=fT)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zg;class Oa{constructor(t){var o,a,r,f,p,h,y,{baseURL:g=mu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=mu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=ka(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:Oa.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(p=(f=Gh(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Gh(mu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:D,this.fetchOptions=A.fetchOptions,this.maxRetries=(h=A.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:Sx(),this.encoder=Cx,this._options=A,this.apiKey=v,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=jl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return jl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return jl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new kt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zi}`}defaultIdempotencyKey(){return`stainless-node-retry-${ax()}`}makeStatusError(t,o,a,r){return lt.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=rx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return fx(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Ou(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const h=await t,y=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:g,url:v,timeout:S}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(g,{url:v,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,D=Date.now();if(it(this).debug(`[${E}] sending request`,ui({retryOfRequestLogID:a,method:h.method,url:v,options:h,headers:g.headers})),!((f=h.signal)===null||f===void 0)&&f.aborted)throw new wu;const G=new AbortController,U=await this.fetchWithTimeout(v,g,S,G).catch(Mu),q=Date.now();if(U instanceof globalThis.Error){const V=`retrying, ${o} attempts remaining`;if(!((p=h.signal)===null||p===void 0)&&p.aborted)throw new wu;const J=bu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return it(this).info(`[${E}] connection ${J?"timed out":"failed"} - ${V}`),it(this).debug(`[${E}] connection ${J?"timed out":"failed"} (${V})`,ui({retryOfRequestLogID:a,url:v,durationMs:q-D,message:U.message})),this.retryRequest(h,o,a??E);throw it(this).info(`[${E}] connection ${J?"timed out":"failed"} - error; no more retries left`),it(this).debug(`[${E}] connection ${J?"timed out":"failed"} (error; no more retries left)`,ui({retryOfRequestLogID:a,url:v,durationMs:q-D,message:U.message})),J?new Sg:new Ba({cause:U})}const P=`[${E}${A}] ${g.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${q-D}ms`;if(!U.ok){const V=await this.shouldRetry(U);if(o&&V){const Y=`retrying, ${o} attempts remaining`;return await _x(U.body),it(this).info(`${P} - ${Y}`),it(this).debug(`[${E}] response error (${Y})`,ui({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:q-D})),this.retryRequest(h,o,a??E,U.headers)}const J=V?"error; no more retries left":"error; not retryable";it(this).info(`${P} - ${J}`);const $=await U.text().catch(Y=>Mu(Y).message),W=mx($),Z=W?void 0:$;throw it(this).debug(`[${E}] response error (${J})`,ui({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:Z,durationMs:Date.now()-D})),this.makeStatusError(U.status,W,Z,U.headers)}return it(this).info(P),it(this).debug(`[${E}] response start`,ui({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:q-D})),{response:U,options:h,controller:G,requestLogID:E,retryOfRequestLogID:a,startTime:D}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:h}=f,y=ka(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(g)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const h=r==null?void 0:r.get("retry-after-ms");if(h){const g=parseFloat(h);Number.isNaN(g)||(p=g)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const g=parseFloat(y);Number.isNaN(g)?p=Date.parse(y)-Date.now():p=g*1e3}if(!(p&&0<=p&&p<60*1e3)){const g=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,g)}return await hx(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),h=1-Math.random()*.25;return p*h*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:h,path:y,query:g,defaultBaseURL:v}=p,S=this.buildURL(y,g,v);"timeout"in p&&px("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),D=await this.buildHeaders({options:t,method:h,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:D},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let h=jl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Tx()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=jl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Ex(t)}:this.encoder({body:t,headers:a})}}Oa.DEFAULT_TIMEOUT=6e4;class Xe extends Oa{constructor(){super(...arguments),this.interactions=new Gg(this)}}zg=Xe;Xe.GeminiNextGenAPIClient=zg;Xe.GeminiNextGenAPIClientError=kt;Xe.APIError=lt;Xe.APIConnectionError=Ba;Xe.APIConnectionTimeoutError=Sg;Xe.APIUserAbortError=wu;Xe.NotFoundError=Ag;Xe.ConflictError=xg;Xe.RateLimitError=Rg;Xe.BadRequestError=Eg;Xe.AuthenticationError=_g;Xe.InternalServerError=bg;Xe.PermissionDeniedError=Cg;Xe.UnprocessableEntityError=Ng;Xe.toFile=bx;Xe.Interactions=Gg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bx(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function Px(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function Ox(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function Fx(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function Jx(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=u(i,["batchSize"]);t!==void 0&&h!=null&&c(t,["tuningTask","hyperparameters","batchSize"],h);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function Yx(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],zh(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],zh(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function Xx(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&lN(f);const p=u(i,["config"]);return p!=null&&Jx(p,o),o}function Kx(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&oN(f,o,t);const p=u(i,["config"]);return p!=null&&Yx(p,o,t),o}function Qx(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function Zx(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function $x(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function Wx(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function jx(i,t){const o={},a=u(i,["config"]);return a!=null&&$x(a,o),o}function eN(i,t){const o={},a=u(i,["config"]);return a!=null&&Wx(a,o),o}function tN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Vg(h))),c(o,["tuningJobs"],p)}return o}function nN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Uu(h))),c(o,["tuningJobs"],p)}return o}function iN(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function lN(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function oN(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Vg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],tg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=u(i,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],iN(E)),o}function Uu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],tg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=u(i,["startTime"]);h!=null&&c(o,["startTime"],h);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const S=u(i,["description"]);S!=null&&c(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const D=u(i,["preTunedModel"]);D!=null&&c(o,["preTunedModel"],D);const G=u(i,["supervisedTuningSpec"]);G!=null&&c(o,["supervisedTuningSpec"],G);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(o,["preferenceOptimizationSpec"],U);const q=u(i,["tuningDataStats"]);q!=null&&c(o,["tuningDataStats"],q);const P=u(i,["encryptionSpec"]);P!=null&&c(o,["encryptionSpec"],P);const V=u(i,["partnerModelTuningSpec"]);V!=null&&c(o,["partnerModelTuningSpec"],V);const J=u(i,["customBaseModel"]);J!=null&&c(o,["customBaseModel"],J);const $=u(i,["experiment"]);$!=null&&c(o,["experiment"],$);const W=u(i,["labels"]);W!=null&&c(o,["labels"],W);const Z=u(i,["outputUri"]);Z!=null&&c(o,["outputUri"],Z);const le=u(i,["pipelineJob"]);le!=null&&c(o,["pipelineJob"],le);const Y=u(i,["serviceAccount"]);Y!=null&&c(o,["serviceAccount"],Y);const ie=u(i,["tunedModelDisplayName"]);ie!=null&&c(o,["tunedModelDisplayName"],ie);const ge=u(i,["veoTuningSpec"]);return ge!=null&&c(o,["veoTuningSpec"],ge),o}function aN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const h=u(i,["error"]);return h!=null&&c(o,["error"],h),o}function zh(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sN extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Su.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Zx(t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Uu(v))}else{const g=Qx(t);return h=O("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Vg(v))}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=eN(t);return h=O("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=nN(v),E=new ch;return Object.assign(E,S),E})}else{const g=jx(t);return h=O("tunedModels",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=tN(v),E=new ch;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Px(t);return h=O("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Fx(v),E=new fh;return Object.assign(E,S),E})}else{const g=Bx(t);return h=O("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Ox(v),E=new fh;return Object.assign(E,S),E})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=Kx(t,t);return f=O("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Uu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xx(t);return f=O("tunedModels",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>aN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rN{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uN=1024*1024*8,cN=3,fN=1e3,dN=2,Ha="x-goog-upload-status";async function pN(i,t,o){var a;const r=await qg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function mN(i,t,o){var a;const r=await qg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Qh(f),h=new Gu;return Object.assign(h,p),h}async function qg(i,t,o){var a,r;let f=0,p=0,h=new _u(new Response),y="upload";for(f=i.size;p<f;){const g=Math.min(uN,f-p),v=i.slice(p,p+g);p+g>=f&&(y+=", finalize");let S=0,E=fN;for(;S<cN&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(g)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[Ha]));)S++,await gN(E),E=E*dN;if(p+=g,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[Ha])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function hN(i){return{size:i.size,type:i.type}}function gN(i){return new Promise(t=>setTimeout(t,i))}class yN{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await pN(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mN(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vN{create(t,o,a){return new TN(t,o,a)}}class TN{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vh="x-goog-api-key";class SN{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Vh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Vh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EN="gl-node/";class qh{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Xe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=hT(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new SN(this.apiKey);this.apiClient=new hA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:EN+"web",uploader:new yN,downloader:new rN}),this.models=new LA(this.apiClient),this.live=new bA(this.apiClient,r,new vN),this.batches=new FS(this.apiClient),this.chats=new xE(this.models,this.apiClient),this.caches=new _E(this.apiClient),this.files=new kE(this.apiClient),this.operations=new kA(this.apiClient),this.authTokens=new $A(this.apiClient),this.tunings=new sN(this.apiClient),this.fileSearchStores=new ox(this.apiClient)}}class _N{constructor(){}async analyzeText(t){var r,f,p,h;const o=new qh({apiKey:"AIzaSyBlSpjFPdeY6bTCUVXCq94RD2OAU5HQm4o"}),a=`
      Perform a forensic writing audit at the level of Grammarly and Turnitin.
      
      Analyze for:
      1. Plagiarism (Deep web matches)
      2. AI Patterns (Perplexity, Burstiness)
      3. Grammar & Punctuation
      4. Conciseness & Word Choice
      5. Structural Readability
      
      Text: "${t}"

      Respond ONLY in JSON:
      {
        "similarityScore": number,
        "originalityScore": number,
        "aiScore": number,
        "writingScores": {
          "plagiarism": boolean,
          "spelling": number,
          "conciseness": number,
          "wordChoice": number,
          "grammar": number,
          "punctuation": number,
          "readability": boolean,
          "additional": number
        },
        "highlights": [{ "text": "string", "sourceUrl": "string", "confidence": number }],
        "writingFeedback": { "grammar": [], "tone": "string", "readability": "string", "aiMarkers": [] },
        "summary": "string"
      }
    `;try{if("AIzaSyBlSpjFPdeY6bTCUVXCq94RD2OAU5HQm4o".includes("PLACEHOLDER"))throw new Error("Gemini API Key is not set. Please check your .env.local file.");const y=await o.models.generateContent({model:"gemini-1.5-flash-001",contents:a,config:{tools:[{googleSearch:{}}],responseMimeType:"application/json",temperature:0,responseSchema:{type:ce.OBJECT,properties:{similarityScore:{type:ce.NUMBER},originalityScore:{type:ce.NUMBER},aiScore:{type:ce.NUMBER},writingScores:{type:ce.OBJECT,properties:{plagiarism:{type:ce.BOOLEAN},spelling:{type:ce.NUMBER},conciseness:{type:ce.NUMBER},wordChoice:{type:ce.NUMBER},grammar:{type:ce.NUMBER},punctuation:{type:ce.NUMBER},readability:{type:ce.BOOLEAN},additional:{type:ce.NUMBER}}},highlights:{type:ce.ARRAY,items:{type:ce.OBJECT,properties:{text:{type:ce.STRING},sourceUrl:{type:ce.STRING},confidence:{type:ce.NUMBER}}}},writingFeedback:{type:ce.OBJECT,properties:{grammar:{type:ce.ARRAY,items:{type:ce.STRING}},tone:{type:ce.STRING},readability:{type:ce.STRING},aiMarkers:{type:ce.ARRAY,items:{type:ce.STRING}}}},summary:{type:ce.STRING}}}}}),g=JSON.parse(y.text||"{}"),v=((h=(p=(f=(r=y.candidates)==null?void 0:r[0])==null?void 0:f.groundingMetadata)==null?void 0:p.groundingChunks)==null?void 0:h.filter(S=>S.web).map(S=>{var E,A;return{title:((E=S.web)==null?void 0:E.title)||"External Source",uri:((A=S.web)==null?void 0:A.uri)||""}}))||[];return{...g,sources:v,wordCount:t.split(/\s+/).filter(Boolean).length}}catch(y){throw console.error("Forensic Audit Error:",y),new Error(y.message||"Analysis failed. Text may be too short or invalid.")}}async rewriteToOriginal(t){const o=new qh({apiKey:"AIzaSyBlSpjFPdeY6bTCUVXCq94RD2OAU5HQm4o"}),a=`
      Act as a Human Linguistic Master. Rewrite the input text to bypass ALL AI and Plagiarism detectors (Grammarly, Turnitin, Copyleaks).

      TECHNIQUE: "Syntactic Shifting"
      - Change the voice (Active vs Passive) frequently.
      - Break up predictable rhythms.
      - Use rare but contextually perfect synonyms.
      - Flip the order of information in sentences.
      - Inject human-specific nuance (idioms, varied sentence lengths).
      - Ensure NO 3-word sequence remains identical to the original if it was plagiarized.

      Original: "${t}"

      Provide ONLY the rewritten text.
    `;try{if("AIzaSyBlSpjFPdeY6bTCUVXCq94RD2OAU5HQm4o".includes("PLACEHOLDER"))throw new Error("Gemini API Key is not set.");return(await o.models.generateContent({model:"gemini-1.5-pro-001",contents:a,config:{temperature:.9}})).text||""}catch(r){throw new Error(r.message||"Rewrite failed. Please check connection.")}}}var et=(i=>(i.IDLE="IDLE",i.SCANNING="SCANNING",i.COMPLETED="COMPLETED",i.ERROR="ERROR",i))(et||{});const hu={apiKey:"AIzaSyA0kA5Xji13UUM-LTDAsNFsBKeQXWrxLss",authDomain:"webreact-f970a.firebaseapp.com",projectId:"webreact-f970a",storageBucket:"webreact-f970a.firebasestorage.app",messagingSenderId:"417589616982",appId:"1:417589616982:web:1f857790697219511f36f7",measurementId:"G-TSW1767CG9"},Ce={users:JSON.parse(localStorage.getItem("veriscan_users_v7")||"{}"),sessions:JSON.parse(localStorage.getItem("veriscan_session_v7")||"null"),history:JSON.parse(localStorage.getItem("veriscan_history_v7")||"{}"),save:()=>{localStorage.setItem("veriscan_users_v7",JSON.stringify(Ce.users)),localStorage.setItem("veriscan_session_v7",JSON.stringify(Ce.sessions)),localStorage.setItem("veriscan_history_v7",JSON.stringify(Ce.history))}};let Ut=!1,Kt=null,Vt=null;try{if(hu.apiKey&&!hu.apiKey.includes("REPLACE")){const i=Wp().length===0?Ov(hu):Wp()[0];Kt=Fv(i),Vt=Jv(i),Ut=!0}}catch(i){console.warn(" VeriScan: Firebase Initialization Blocked.",i),Ut=!1}const Pe={isLocalMode:()=>!Ut,getProviderName:()=>Ut?"Cloud Infrastructure":"Local Forensic Core",switchToLocal:()=>{console.log(" Forensic Core: Force Diverting to Local Engine"),Ut=!1,Kt=null,Vt=null},subscribeToAuth:i=>Ut&&Kt?nT(Kt,async t=>{if(t)try{const o=await em(Aa(Vt,"users",t.uid));if(o.exists())i(o.data());else{const a={id:t.uid,email:t.email||"",name:t.displayName||"Forensic Operative",tier:"free",createdAt:new Date().toISOString()};i(a)}}catch{i(null)}else i(Ce.sessions)}):(setTimeout(()=>i(Ce.sessions),50),()=>{}),signup:async(i,t,o)=>{const r={id:`local_${Math.random().toString(36).substr(2,9)}`,name:i,email:t,tier:"free",createdAt:new Date().toISOString()};if(Ut&&Kt)try{const f=await eT(Kt,t,o),p={id:f.user.uid,name:i,email:t,tier:"free",createdAt:new Date().toISOString()};return await tT(Aa(Vt,"users",f.user.uid),p),Ce.users[t]={...p,password:o},Ce.save(),p}catch(f){if(f.code==="auth/configuration-not-found")return Pe.switchToLocal(),Pe.signup(i,t,o);throw f}else{if(Ce.users[t])throw{code:"auth/email-already-in-use"};return Ce.users[t]={...r,password:o},Ce.sessions=r,Ce.save(),r}},login:async(i,t)=>{if(Ut&&Kt)try{const o=await jv(Kt,i,t);let a=null;try{const r=await em(Aa(Vt,"users",o.user.uid));r.exists()&&(a=r.data())}catch{console.warn("VeriScan Warning: Cloud fetch failed (offline/missing db), using auth defaults.")}return a||{id:o.user.uid,email:o.user.email||"",name:"Operative",tier:"free",createdAt:new Date().toISOString()}}catch(o){const a=Ce.users[i];if(a&&a.password===t){const{password:r,...f}=a;return Ce.sessions=f,Ce.save(),f}if(o.code==="auth/configuration-not-found")return Pe.switchToLocal(),Pe.login(i,t);throw o}else{const o=Ce.users[i];if(!o||o.password!==t)throw{code:"auth/invalid-credential"};const{password:a,...r}=o;return Ce.sessions=r,Ce.save(),r}},logout:async()=>{Ut&&Kt&&await Wv(Kt).catch(()=>{}),Ce.sessions=null,Ce.save()},getHistory:async i=>{if(Ut&&Vt)try{const t=jp(Vt,"users",i,"history"),o=Qv(t,Zv("timestamp","desc"));return(await $v(o)).docs.map(r=>({id:r.id,...r.data()}))}catch{return[]}else return[...Ce.history[i]||[]].sort((o,a)=>new Date(a.timestamp).getTime()-new Date(o.timestamp).getTime())},saveHistoryItem:async(i,t)=>{if(Ut&&Vt)try{const a=jp(Vt,"users",i,"history");return(await Xv(a,{...t,serverTime:Kv()})).id}catch{console.warn("Cloud save failed.")}const o={...t,id:`hist_${Math.random().toString(36).substr(2,9)}`};return Ce.history[i]||(Ce.history[i]=[]),Ce.history[i].push(o),Ce.save(),o.id},deleteHistoryItem:async(i,t)=>{if(Ut&&Vt)try{await Yv(Aa(Vt,"users",i,"history",t))}catch{}Ce.history[i]&&(Ce.history[i]=Ce.history[i].filter(o=>o.id!==t),Ce.save())}},Bh=({value:i,label:t,color:o,isDark:a})=>{const r=[{name:"Value",value:i},{name:"Remaining",value:100-i}];return C.jsx("div",{className:"flex flex-col items-center",children:C.jsxs("div",{className:"h-36 w-36 relative",children:[C.jsx(mv,{width:"100%",height:"100%",children:C.jsx(hv,{children:C.jsxs(gv,{data:r,cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,startAngle:180,endAngle:0,dataKey:"value",stroke:"none",children:[C.jsx(Yp,{fill:o}),C.jsx(Yp,{fill:a?"#1e293b":"#e2e8f0"})]})})}),C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pt-8",children:[C.jsxs("span",{className:"text-2xl font-bold transition-colors",style:{color:o},children:[i,"%"]}),C.jsx("span",{className:`text-[10px] uppercase font-bold tracking-widest ${a?"text-slate-500":"text-slate-400"}`,children:t})]})]})})},CN=({isOpen:i,onClose:t})=>{if(!i)return null;const o=[{icon:C.jsx(yu,{className:"text-amber-500",size:20}),title:"Stealth Bypass v4",desc:"Deep neural entropy shifting to stay undetectable by E-Detector and Turnitin."},{icon:C.jsx(Fh,{className:"text-indigo-500",size:20}),title:"Global Forensic Index",desc:"Cross-reference 120B+ sources including paywalled archives and dark web leaks."},{icon:C.jsx(_v,{className:"text-emerald-500",size:20}),title:"Linguistic Authenticity",desc:"Advanced 'Human-Burstiness' logic to ensure natural sentence variance."},{icon:C.jsx(Jh,{className:"text-rose-500",size:20}),title:"Zero-Trace Vault",desc:"Military-grade data shredding. Your documents exist only while you're editing."}];return C.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center overflow-hidden animate-in fade-in duration-300",children:[C.jsx("div",{className:"absolute inset-0 bg-slate-950/60 dark:bg-black/80 backdrop-blur-[40px] transition-all cursor-pointer group",onClick:t,children:C.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx("div",{className:"px-6 py-3 bg-white/10 backdrop-blur-md rounded-full border border-white/20 text-white font-black text-xs uppercase tracking-widest",children:"Click anywhere to return"})})}),C.jsxs("button",{onClick:t,className:"absolute top-8 left-8 z-[1010] bg-white text-slate-950 px-6 py-4 rounded-full shadow-2xl border border-white/20 transition-all group hidden lg:flex items-center gap-3 hover:scale-105 active:scale-95",children:[C.jsx(yv,{size:24,className:"group-hover:-translate-x-1 transition-transform"}),C.jsx("span",{className:"font-black text-xs uppercase tracking-widest pr-2",children:"Return Home"})]}),C.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-6xl h-full lg:h-[85vh] lg:rounded-[3.5rem] shadow-[0_0_100px_rgba(79,70,229,0.3)] overflow-hidden flex flex-col lg:flex-row border border-white/20 dark:border-slate-800 animate-in zoom-in-95 slide-in-from-bottom-5 duration-500",children:[C.jsxs("div",{className:"lg:w-2/5 bg-slate-900 dark:bg-black p-10 lg:p-16 text-white flex flex-col justify-between relative overflow-hidden shrink-0",children:[C.jsxs("div",{className:"absolute inset-0 opacity-40 pointer-events-none",children:[C.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-indigo-600 rounded-full blur-[120px] animate-pulse"}),C.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-violet-800 rounded-full blur-[120px]"})]}),C.jsxs("div",{className:"relative z-10",children:[C.jsxs("button",{onClick:t,className:"group lg:hidden flex items-center gap-3 text-indigo-400 font-black text-[10px] tracking-[0.3em] uppercase mb-14 hover:text-white transition-all",children:[C.jsx("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-white/10 transition-colors",children:C.jsx(vv,{size:16})}),"Back to Dashboard"]}),C.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[C.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-violet-600 p-3.5 rounded-2xl shadow-xl shadow-indigo-500/20",children:C.jsx(gu,{size:24,className:"text-white"})}),C.jsxs("div",{children:[C.jsx("span",{className:"font-black tracking-[0.4em] uppercase text-[10px] block text-indigo-400 mb-0.5",children:"Elite Access"}),C.jsx("span",{className:"text-xl font-black text-white",children:"Neural Full-Stack"})]})]}),C.jsxs("h2",{className:"text-5xl lg:text-6xl font-black mb-8 leading-[1.05] tracking-tighter",children:["Unlock the ",C.jsx("br",{})," ",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-indigo-200 to-violet-400",children:"Genius"})," ",C.jsx("br",{})," Tier."]}),C.jsx("p",{className:"text-slate-400 text-lg font-medium max-w-sm leading-relaxed mb-10 opacity-80",children:"Grammarly-level precision with forensic stealth. The ultimate suite for professional manuscript audit."})]}),C.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-8 pt-10 border-t border-white/10",children:[C.jsxs("div",{children:[C.jsx("div",{className:"text-3xl font-black",children:"Unlimited"}),C.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Monthly Scans"})]}),C.jsxs("div",{children:[C.jsx("div",{className:"text-3xl font-black",children:"256-bit"}),C.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"AES Security"})]})]})]}),C.jsxs("div",{className:"flex-1 p-8 lg:p-20 flex flex-col overflow-y-auto bg-slate-50/30 dark:bg-slate-900/50",children:[C.jsxs("div",{className:"flex justify-between items-start mb-14",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("h3",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.4em] mb-2",children:"Service Tiers"}),C.jsx("p",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight leading-none",children:"Choose Your Plan"})]}),C.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-slate-800 text-slate-400 hover:text-indigo-600 dark:hover:text-white rounded-2xl transition-all hover:scale-110 shadow-sm",children:C.jsx(Tv,{size:20})})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-10 mb-16",children:o.map((a,r)=>C.jsxs("div",{className:"flex gap-6 group hover:translate-x-1 transition-transform",children:[C.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl flex items-center justify-center shadow-md group-hover:shadow-indigo-100 dark:group-hover:shadow-none transition-all",children:a.icon}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("h4",{className:"font-black text-slate-900 dark:text-white text-sm uppercase tracking-tight",children:a.title}),C.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400 leading-relaxed font-bold opacity-80",children:a.desc})]})]},r))}),C.jsxs("div",{className:"mt-auto flex flex-col gap-10",children:[C.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[C.jsxs("div",{className:"flex-1 p-10 rounded-[3rem] border-4 border-indigo-600 dark:border-indigo-500 bg-white dark:bg-slate-950 shadow-2xl relative group/card transition-all hover:-translate-y-2",children:[C.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-indigo-600 text-white text-[10px] font-black px-6 py-2 rounded-full uppercase tracking-widest shadow-xl whitespace-nowrap",children:"Elite Selection"}),C.jsxs("div",{className:"mb-10 text-center",children:[C.jsx("h5",{className:"font-black text-slate-900 dark:text-white text-xl mb-2",children:"Annual Pass"}),C.jsxs("div",{className:"flex items-center justify-center gap-1",children:[C.jsx("span",{className:"text-5xl font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:"$12"}),C.jsx("span",{className:"text-sm text-slate-400 font-bold uppercase tracking-widest",children:"/mo"})]}),C.jsx("p",{className:"text-[10px] text-indigo-500 font-black mt-2 uppercase tracking-widest",children:"Billed as $144 yearly"})]}),C.jsxs("ul",{className:"space-y-5 mb-12",children:[C.jsxs("li",{className:"flex items-center gap-3 text-[11px] font-black text-slate-600 dark:text-slate-300 uppercase tracking-tight",children:[C.jsx(Xp,{size:18,className:"text-emerald-500 shrink-0",strokeWidth:3})," Pro Stealth Rewrite"]}),C.jsxs("li",{className:"flex items-center gap-3 text-[11px] font-black text-slate-600 dark:text-slate-300 uppercase tracking-tight",children:[C.jsx(Xp,{size:18,className:"text-emerald-500 shrink-0",strokeWidth:3})," Real-time Source Sync"]})]}),C.jsxs("button",{className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-2xl transition-all shadow-xl shadow-indigo-200 dark:shadow-none flex items-center justify-center gap-3 text-[11px] tracking-[0.2em] uppercase",children:[C.jsx(Sv,{size:18})," Initialize Elite"]})]}),C.jsxs("div",{className:"flex-1 p-10 rounded-[3rem] border-2 border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/30 transition-all hover:-translate-y-1 hover:border-slate-300 dark:hover:border-slate-700",children:[C.jsxs("div",{className:"mb-10 text-center",children:[C.jsx("h5",{className:"font-black text-slate-900 dark:text-white text-xl mb-2",children:"Flex Pass"}),C.jsxs("div",{className:"flex items-center justify-center gap-1",children:[C.jsx("span",{className:"text-5xl font-black text-slate-900 dark:text-white tracking-tighter",children:"$29"}),C.jsx("span",{className:"text-sm text-slate-400 font-bold uppercase tracking-widest",children:"/mo"})]}),C.jsx("p",{className:"text-[10px] text-slate-400 font-black mt-2 uppercase tracking-widest",children:"Standard Monthly"})]}),C.jsx("button",{className:"w-full py-5 bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700 font-black rounded-2xl transition-all hover:bg-slate-50 text-[11px] tracking-[0.2em] uppercase",children:"Subscribe Flex"})]})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-8 pt-10 mt-6 border-t border-slate-200/60 dark:border-slate-800",children:[C.jsxs("div",{className:"flex items-center gap-10",children:[C.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[C.jsx(Ev,{size:14,className:"text-amber-500 fill-amber-500"})," Premium Quality"]}),C.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[C.jsx(to,{size:14,className:"text-indigo-500"})," 100% Secure Audit"]})]}),C.jsxs("button",{onClick:t,className:"group flex items-center gap-3 text-[11px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] hover:opacity-70 transition-all bg-indigo-50 dark:bg-indigo-900/20 px-8 py-4 rounded-2xl shadow-sm border border-indigo-100 dark:border-indigo-900/40",children:[C.jsx(Oh,{size:14,className:"group-hover:rotate-12 transition-transform"}),"Exit to Dashboard"]})]})]})]})]})]})},AN=({scores:i,isDark:t})=>{const o=[{label:"Plagiarism found",value:i.plagiarism,isBinary:!0},{label:"Grammar",value:i.grammar,isBinary:!1},{label:"Spelling",value:i.spelling,isBinary:!1},{label:"Punctuation",value:i.punctuation,isBinary:!1},{label:"Conciseness",value:i.conciseness,isBinary:!1},{label:"Readability",value:i.readability,isBinary:!0},{label:"Word choice",value:i.wordChoice,isBinary:!1},{label:"Additional issues",value:i.additional,isBinary:!1}];return C.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-200 dark:border-slate-800 p-8",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[C.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center relative ${i.plagiarism?"bg-red-50 dark:bg-red-900/20":"bg-emerald-50 dark:bg-emerald-900/20"}`,children:[C.jsx("div",{className:`absolute inset-0 rounded-full border-4 animate-ping opacity-20 ${i.plagiarism?"border-red-500":"border-emerald-500"}`}),i.plagiarism?C.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-black",children:"!"}):C.jsx(Kp,{className:"text-emerald-500 w-10 h-10"})]}),C.jsxs("div",{children:[C.jsx("h4",{className:"text-lg font-black text-slate-900 dark:text-white leading-tight",children:i.plagiarism?"Plagiarism Detected":"Integrity Validated"}),C.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:i.additional>0?`We found ${i.additional+i.grammar+i.conciseness} writing issues.`:"Your text looks clean and professional."})]})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4",children:o.map((a,r)=>{const f=a.isBinary?a.value===!0:a.value>0;return C.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-50 dark:border-slate-800 last:border-0 group",children:[C.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:a.label}),C.jsx("div",{className:"flex items-center gap-2",children:f?a.isBinary?C.jsx("div",{className:"bg-red-500 rounded-full p-1 text-white",children:C.jsx(Cv,{size:14,fill:"currentColor",className:"text-red-500"})}):C.jsx("div",{className:"bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-black shadow-lg shadow-red-200 dark:shadow-none",children:a.value}):C.jsx("div",{className:"bg-emerald-500 rounded-full p-1 text-white",children:C.jsx(Kp,{size:14,strokeWidth:3})})})]},r)})})]})},xN=({history:i,onSelectItem:t,onDeleteItem:o,isDark:a})=>{const[r,f]=Yh.useState(""),p=i.filter(y=>y.text.toLowerCase().includes(r.toLowerCase())||y.result.summary.toLowerCase().includes(r.toLowerCase())),h=y=>{const g=new Date(y);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(g)};return C.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-200 dark:border-slate-800 flex flex-col h-[600px] overflow-hidden",children:[C.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:[C.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-2 mb-4",children:[C.jsx(Av,{size:16,className:"text-indigo-500"})," Audit History"]}),C.jsxs("div",{className:"relative",children:[C.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),C.jsx("input",{type:"text",placeholder:"Search scans...",value:r,onChange:y=>f(y.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-xs font-medium focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:p.length===0?C.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-center px-6",children:[C.jsx(Nv,{size:32,className:"opacity-20 mb-2"}),C.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No audits found"})]}):p.map(y=>C.jsxs("div",{className:"group relative bg-slate-50 dark:bg-slate-800/50 hover:bg-white dark:hover:bg-slate-800 border border-slate-100 dark:border-slate-800 rounded-2xl p-4 transition-all cursor-pointer hover:shadow-lg hover:border-indigo-200 dark:hover:border-indigo-900",onClick:()=>t(y),children:[C.jsxs("div",{className:"flex justify-between items-start mb-2",children:[C.jsxs("span",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-tighter bg-indigo-50 dark:bg-indigo-900/30 px-2 py-0.5 rounded-full",children:[y.result.originalityScore,"% Original"]}),C.jsx("span",{className:"text-[9px] font-bold text-slate-400",children:h(y.timestamp)})]}),C.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2 font-medium leading-relaxed",children:y.text}),C.jsxs("div",{className:"mt-3 flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("div",{className:`h-1.5 w-1.5 rounded-full ${y.result.writingScores.plagiarism?"bg-red-500":"bg-emerald-500"}`}),C.jsx("div",{className:`h-1.5 w-1.5 rounded-full ${y.result.aiScore>50?"bg-amber-500":"bg-emerald-500"}`})]}),C.jsx("button",{onClick:g=>{g.stopPropagation(),o(y.id)},className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:C.jsx(Xh,{size:14})})]})]},y.id))})]})},NN=({onAuthSuccess:i,type:t,toggleType:o})=>{const[a,r]=Le.useState(""),[f,p]=Le.useState(""),[h,y]=Le.useState(""),[g,v]=Le.useState(""),[S,E]=Le.useState(!1),[A,D]=Le.useState(!1),G=async()=>{Pe.switchToLocal(),v(""),D(!1)},U=async P=>{P.preventDefault(),v(""),D(!1),E(!0);try{if(t==="signup"){const V=await Pe.signup(h,a,f);i(V)}else{const V=await Pe.login(a,f);i(V)}}catch(V){console.error("Auth System Diagnostic:",V.code),V.code==="auth/configuration-not-found"?(D(!0),v("Firebase Authentication is not enabled in your console.")):V.code==="auth/email-already-in-use"?v("This email is already associated with an account."):V.code==="auth/invalid-credential"||V.code==="auth/user-not-found"||V.code==="auth/wrong-password"?v("Verification failed. Incorrect email or password."):V.code==="auth/weak-password"?v("Password must be at least 6 characters."):v(V.message||"The forensic node returned an error. Check connection.")}finally{E(!1)}},q=Pe.isLocalMode();return C.jsxs("div",{className:"fixed inset-0 z-[200] bg-white dark:bg-slate-950 flex overflow-hidden",children:[C.jsxs("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-slate-900 via-indigo-950 to-indigo-900 p-16 flex-col justify-between relative",children:[C.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[C.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500 rounded-full blur-[120px]"}),C.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-violet-600 rounded-full blur-[120px]"})]}),C.jsxs("div",{className:"relative z-10",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-12",children:[C.jsx("div",{className:"bg-white/10 p-2.5 rounded-xl backdrop-blur-xl border border-white/10 shadow-2xl",children:C.jsx(to,{className:"text-white",size:28})}),C.jsx("span",{className:"text-xs font-black text-white tracking-[0.4em] uppercase",children:"VeriScan v4.0"})]}),C.jsxs("h2",{className:"text-7xl font-black text-white leading-[1] mb-8 tracking-tighter",children:["Audit ",C.jsx("br",{})," ",C.jsx("span",{className:"text-indigo-400",children:"Integrity"}),"."]}),C.jsx("p",{className:"text-indigo-100 text-lg font-medium opacity-70 max-w-sm leading-relaxed",children:"The professional standard for forensic writing analysis and neural stealth verification."})]}),C.jsx("div",{className:"relative z-10 flex items-center gap-8 border-t border-white/5 pt-12",children:C.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white/5 rounded-2xl border border-white/5",children:[q?C.jsx(Rv,{className:"text-amber-400",size:20}):C.jsx(Qp,{className:"text-emerald-400",size:20}),C.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white/70",children:q?"Local Profile Mode":"Cloud Sync Enabled"})]})})]}),C.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 lg:p-24 relative bg-slate-50 dark:bg-slate-950",children:C.jsxs("div",{className:"w-full max-w-md",children:[C.jsxs("div",{className:"mb-12",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-600 dark:text-indigo-400",children:[q?C.jsx(vu,{size:16}):C.jsx(Qp,{size:16}),C.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.3em]",children:Pe.getProviderName()})]}),C.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white mb-3 tracking-tight",children:t==="login"?"Welcome Back":"Create Identity"}),C.jsx("p",{className:"text-slate-500 font-medium",children:t==="login"?"Secure access to your manuscript vault.":"Initialize your forensic audit profile."})]}),A?C.jsxs("div",{className:"bg-white dark:bg-slate-900 border-2 border-amber-200 dark:border-amber-900/50 rounded-3xl p-8 shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[C.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-2xl text-amber-600",children:C.jsx(bv,{size:24})}),C.jsx("h3",{className:"font-black text-lg",children:"Console Sync Required"})]}),C.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6 leading-relaxed",children:["Firebase is initialized, but the ",C.jsx("span",{className:"font-bold",children:"Email/Password Provider"})," is disabled in your project console."]}),C.jsxs("div",{className:"space-y-3 mb-8",children:[C.jsxs("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"w-full flex items-center justify-between px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl text-xs font-bold hover:bg-slate-200 transition-colors",children:[C.jsx("span",{children:"1. Open Project Console"}),C.jsx(Kh,{size:14})]}),C.jsx("div",{className:"px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl text-xs font-bold",children:"2. Enable Email/Password Auth"})]}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-indigo-600 text-white font-black rounded-2xl text-[10px] tracking-widest uppercase hover:bg-indigo-700 transition-all shadow-lg",children:"RE-SCAN CONNECTION"}),C.jsxs("button",{onClick:G,className:"w-full py-4 bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700 font-black rounded-2xl text-[10px] tracking-widest uppercase hover:bg-slate-50 transition-all flex items-center justify-center gap-2",children:[C.jsx(vu,{size:14})," USE LOCAL FORENSIC CORE"]})]})]}):C.jsxs("form",{onSubmit:U,className:"space-y-6",children:[t==="signup"&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),C.jsxs("div",{className:"relative",children:[C.jsx(Mv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),C.jsx("input",{required:!0,type:"text",value:h,onChange:P=>y(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-medium",placeholder:"Agent Smith"})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Address"}),C.jsxs("div",{className:"relative",children:[C.jsx(wv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),C.jsx("input",{required:!0,type:"email",value:a,onChange:P=>r(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-medium",placeholder:"name@agency.com"})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex justify-between items-center px-1",children:[C.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Master Key"}),t==="login"&&C.jsx("button",{type:"button",className:"text-[10px] font-bold text-indigo-600 uppercase hover:underline tracking-tighter",children:"Reset Access"})]}),C.jsxs("div",{className:"relative",children:[C.jsx(Jh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),C.jsx("input",{required:!0,type:"password",value:f,onChange:P=>p(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-medium",placeholder:""})]})]}),g&&C.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/30 p-4 rounded-2xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[C.jsx(Iv,{size:16,className:"text-red-500 shrink-0 mt-0.5"}),C.jsx("p",{className:"text-[11px] font-bold text-red-600 dark:text-red-400 leading-tight",children:g})]}),C.jsx("button",{type:"submit",disabled:S,className:"w-full bg-slate-900 dark:bg-indigo-600 hover:bg-black dark:hover:bg-indigo-700 text-white py-5 rounded-2xl font-black shadow-2xl active:scale-[0.98] transition-all flex items-center justify-center gap-4 tracking-[0.2em] uppercase text-[10px] disabled:opacity-50",children:S?"Analyzing Credentials...":C.jsxs(C.Fragment,{children:[t==="login"?"Authorize":"Initialize Vault",C.jsx(Dv,{size:16})]})}),C.jsx("div",{className:"pt-4 text-center",children:C.jsxs("p",{className:"text-sm font-medium text-slate-500",children:[t==="login"?"New Operative?":"Already Authorized?",C.jsx("button",{onClick:o,className:"ml-2 text-indigo-600 font-black hover:underline tracking-tight",children:t==="login"?"Create profile":"Return to login"})]})})]})]})})]})},Ph=new _N,RN=()=>{const[i,t]=Le.useState(null),[o,a]=Le.useState(!0),[r,f]=Le.useState("login"),[p,h]=Le.useState(""),[y,g]=Le.useState(et.IDLE),[v,S]=Le.useState(null),[E,A]=Le.useState(null),[D,G]=Le.useState(!1),[U,q]=Le.useState(!1),[P,V]=Le.useState(!1),[J,$]=Le.useState(!1),[W,Z]=Le.useState([]),[le,Y]=Le.useState(!1);Le.useEffect(()=>{const I=window.document.documentElement;U?I.classList.add("dark"):I.classList.remove("dark")},[U]),Le.useEffect(()=>{const I=setTimeout(()=>{o&&a(!1)},4e3),B=Pe.subscribeToAuth(K=>{t(K),a(!1),clearTimeout(I)});return()=>{B(),clearTimeout(I)}},[o]),Le.useEffect(()=>{(async()=>{if(i)try{const B=await Pe.getHistory(i.id);Z(B)}catch(B){console.error("History sync error:",B)}})()},[i]);const ie=async()=>{await Pe.logout(),t(null),$(!1),Z([]),S(null),h(""),g(et.IDLE)},ge=async()=>{if(!(!p.trim()||!i)){if(p.length<100){A("Audit requires a minimum of 100 characters.");return}g(et.SCANNING),A(null);try{const I=await Ph.analyzeText(p);S(I),g(et.COMPLETED);const B={timestamp:new Date().toISOString(),text:p,result:I};await Pe.saveHistoryItem(i.id,B);const K=await Pe.getHistory(i.id);Z(K)}catch(I){A(I.message||"Forensic node connection failed."),g(et.ERROR)}}},Re=async()=>{if(p.trim()){G(!0),A(null);try{const I=await Ph.rewriteToOriginal(p);h(I),S(null),g(et.IDLE)}catch(I){A(I.message)}finally{G(!1)}}},ye=I=>{h(I.text),S(I.result),g(et.COMPLETED),Y(!1)},Oe=async I=>{i&&(await Pe.deleteHistoryItem(i.id,I),Z(B=>B.filter(K=>K.id!==I)))},ot=()=>{if(!v)return p;let I=p;return v.highlights.forEach(B=>{const K=B.sourceUrl!=="",Ae=K?U?"bg-red-900/40":"bg-red-100":U?"bg-amber-900/40":"bg-amber-100",xe=K?U?"text-red-300":"text-red-900":U?"text-amber-300":"text-amber-900",Ke=new RegExp(`(${B.text.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi");I=I.replace(Ke,`<mark class="${Ae} ${xe} px-1 rounded-sm border-b-2 ${K?"border-red-500":"border-amber-500"} cursor-help font-medium">$1</mark>`)}),C.jsx("div",{dangerouslySetInnerHTML:{__html:I},className:"whitespace-pre-wrap leading-relaxed text-lg"})};return o?C.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950",children:[C.jsxs("div",{className:"relative mb-6",children:[C.jsx(Uv,{className:"animate-spin text-indigo-600",size:64}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:C.jsx(to,{className:"text-indigo-600/50",size:24})})]}),C.jsx("h2",{className:"text-sm font-black text-slate-400 uppercase tracking-[0.3em] animate-pulse",children:"Initializing Forensic Core"}),C.jsx("p",{className:"text-[10px] text-slate-500 mt-2 font-bold tracking-widest",children:"ESTABLISHING SECURE HANDSHAKE..."})]}):i?C.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 transition-colors duration-300 flex flex-col",children:[C.jsx(CN,{isOpen:P,onClose:()=>V(!1)}),C.jsxs("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 px-6 py-4 flex items-center justify-between shadow-sm",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"bg-indigo-600 dark:bg-indigo-500 p-2 rounded-xl shadow-lg",children:C.jsx(to,{className:"text-white w-6 h-6"})}),C.jsxs("div",{className:"hidden sm:block",children:[C.jsx("h1",{className:"text-xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-violet-600 dark:from-indigo-400 dark:to-violet-400 leading-tight",children:"VeriScan Pro"}),C.jsx("p",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em]",children:"Forensic Intelligence v3.5"})]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:`hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full border ${Pe.isLocalMode()?"bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-900/30":"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-900/30"}`,children:[C.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${Pe.isLocalMode()?"bg-amber-500":"bg-emerald-500"}`}),C.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest flex items-center gap-1.5 ${Pe.isLocalMode()?"text-amber-700 dark:text-amber-400":"text-emerald-700 dark:text-emerald-400"}`,children:Pe.isLocalMode()?C.jsxs(C.Fragment,{children:["Offline Mode ",C.jsx(Lv,{size:10})]}):C.jsxs(C.Fragment,{children:["Cloud Sync ",C.jsx(kv,{size:10})]})})]}),C.jsxs("button",{onClick:()=>Y(!le),className:`p-2.5 rounded-xl transition-all flex items-center gap-2 ${le?"bg-indigo-600 text-white shadow-lg":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-indigo-600"}`,children:[C.jsx(Gv,{size:20}),C.jsx("span",{className:"text-xs font-black hidden lg:block uppercase tracking-widest",children:"Vault"})]}),C.jsx("button",{onClick:()=>q(!U),className:"p-2.5 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-indigo-600 transition-colors",children:U?C.jsx(Hv,{size:20}):C.jsx(zv,{size:20})}),C.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 hidden sm:block"}),C.jsxs("button",{onClick:()=>V(!0),className:"hidden sm:flex bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-xl text-xs font-black shadow-lg items-center gap-2 uppercase tracking-widest",children:[C.jsx(gu,{size:16})," ",C.jsx("span",{children:"Elite"})]}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{onClick:()=>$(!J),className:"flex items-center gap-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-1.5 pr-4 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-all shadow-sm",children:[C.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-500 flex items-center justify-center text-white font-black text-xs",children:i.name.charAt(0)}),C.jsxs("div",{className:"text-left hidden md:block",children:[C.jsx("div",{className:"text-[11px] font-black leading-none mb-0.5",children:i.name}),C.jsxs("div",{className:"text-[9px] font-bold text-indigo-500 uppercase tracking-tighter",children:[i.tier," Profile"]})]}),C.jsx(Vv,{size:14,className:"text-slate-400"})]}),J&&C.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-2xl p-2 animate-in fade-in zoom-in-95 duration-200",children:[C.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 dark:border-slate-800 mb-2",children:[C.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Operative ID"}),C.jsx("p",{className:"text-xs font-bold truncate text-slate-600 dark:text-slate-300",children:i.email})]}),C.jsxs("button",{onClick:ie,className:"w-full flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-xl transition-colors font-bold text-xs",children:[C.jsx(qv,{size:16})," Termination Session"]})]})]})]})]}),C.jsxs("main",{className:"flex-1 max-w-[1440px] mx-auto w-full p-4 lg:p-10 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[C.jsxs("div",{className:`flex flex-col gap-6 transition-all duration-500 ${le?"lg:col-span-5":"lg:col-span-8"}`,children:[C.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col min-h-[70vh]",children:[C.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-slate-50/30 dark:bg-slate-900/50",children:[C.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[C.jsx("button",{onClick:()=>g(et.IDLE),className:`px-6 py-2 rounded-xl text-[10px] font-black transition-all uppercase tracking-[0.2em] ${y!==et.COMPLETED?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500"}`,children:"Editor"}),v&&C.jsx("button",{onClick:()=>g(et.COMPLETED),className:`px-6 py-2 rounded-xl text-[10px] font-black transition-all uppercase tracking-[0.2em] ${y===et.COMPLETED?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500"}`,children:"Forensics"})]}),C.jsx("button",{onClick:()=>{h(""),S(null),g(et.IDLE)},className:"p-2.5 text-slate-400 hover:text-red-500 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 transition-colors",children:C.jsx(Xh,{size:18})})]}),C.jsxs("div",{className:"flex-1 relative overflow-auto p-12",children:[y===et.COMPLETED?C.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:ot()}):C.jsx("textarea",{className:"w-full h-full resize-none border-none focus:ring-0 text-xl text-slate-800 dark:text-slate-100 leading-relaxed bg-transparent font-medium",placeholder:"Paste manuscript for forensic audit...",value:p,onChange:I=>h(I.target.value),disabled:y===et.SCANNING||D}),(y===et.SCANNING||D)&&C.jsxs("div",{className:"absolute inset-0 bg-white/95 dark:bg-slate-900/95 flex flex-col items-center justify-center z-10 transition-all duration-500 backdrop-blur-md",children:[C.jsxs("div",{className:"relative mb-8",children:[C.jsx("div",{className:"w-24 h-24 border-4 border-indigo-100 dark:border-slate-800 rounded-full border-t-indigo-600 animate-spin"}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:D?C.jsx(Zp,{className:"text-indigo-600",size:32}):C.jsx($p,{className:"text-indigo-600",size:32})})]}),C.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:D?"Syntactic Shifting Active":"Forensic Audit Processing"}),C.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-[0.4em] animate-pulse",children:"Consulting 80B+ Global Indices..."})]})]}),C.jsxs("div",{className:"px-10 py-8 border-t border-slate-100 dark:border-slate-800 flex flex-col sm:flex-row gap-6 justify-between items-center bg-slate-50/20 dark:bg-slate-900/20",children:[C.jsxs("div",{className:"flex items-center gap-8 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:[C.jsxs("div",{className:"flex items-center gap-2.5",children:[C.jsx(Bv,{size:16,className:"text-indigo-500"})," ",p.split(/\s+/).filter(Boolean).length," Words"]}),C.jsxs("div",{className:"flex items-center gap-2.5 hidden sm:flex",children:[C.jsx(vu,{size:16,className:"text-emerald-500"})," Forensic Vault Protected"]})]}),C.jsx("div",{className:"flex gap-4 w-full sm:w-auto",children:C.jsx("button",{onClick:ge,disabled:y===et.SCANNING||!p.trim(),className:"w-full sm:w-auto bg-slate-900 dark:bg-indigo-600 hover:bg-black dark:hover:bg-indigo-700 text-white px-12 py-5 rounded-2xl font-black shadow-2xl transition-all active:scale-[0.98] uppercase text-[10px] tracking-[0.2em]",children:"RUN DEEP AUDIT"})})]})]}),E&&C.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900/30 text-red-700 dark:text-red-400 px-8 py-5 rounded-[2rem] flex items-center gap-3 animate-in slide-in-from-bottom-4",children:[C.jsx(Pv,{size:18})," ",C.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:E})]})]}),C.jsx("aside",{className:`flex flex-col gap-6 transition-all duration-500 ${le?"lg:col-span-7":"lg:col-span-4"}`,children:le?C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full items-start",children:[C.jsx(xN,{history:W,onSelectItem:ye,onDeleteItem:Oe,isDark:U}),C.jsxs("div",{className:"bg-indigo-600 rounded-[3rem] p-12 text-white flex flex-col justify-between overflow-hidden relative min-h-[450px] shadow-2xl",children:[C.jsx(yu,{size:200,className:"absolute -right-16 -bottom-16 opacity-10 rotate-12"}),C.jsxs("div",{className:"relative z-10",children:[C.jsx("h4",{className:"text-3xl font-black mb-8 tracking-tighter",children:"Manuscript Vault"}),C.jsx("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed mb-12 opacity-80",children:"Every forensic audit is securely hashed and indexed. Sync across your professional network to maintain a verified integrity trail."}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-4 bg-white/10 p-6 rounded-[2rem] backdrop-blur-md border border-white/5",children:[C.jsx(to,{className:"text-indigo-300",size:24}),C.jsxs("div",{children:[C.jsx("span",{className:"block text-[10px] font-black uppercase tracking-widest text-indigo-300 mb-0.5",children:"Privacy Layer"}),C.jsx("span",{className:"text-xs font-bold",children:"SHA-512 End-to-End"})]})]}),C.jsxs("div",{className:"flex items-center gap-4 bg-white/10 p-6 rounded-[2rem] backdrop-blur-md border border-white/5",children:[C.jsx($p,{className:"text-indigo-300",size:24}),C.jsxs("div",{children:[C.jsx("span",{className:"block text-[10px] font-black uppercase tracking-widest text-indigo-300 mb-0.5",children:"Footprint"}),C.jsxs("span",{className:"text-xs font-bold",children:[W.length," Verified Entries"]})]})]})]})]}),C.jsx("button",{onClick:()=>Y(!1),className:"relative z-10 w-full bg-white text-indigo-600 py-5 rounded-2xl font-black text-[10px] tracking-[0.2em] mt-12 uppercase hover:bg-indigo-50 transition-all active:scale-95 shadow-lg",children:"CLOSE VAULT"})]})]}):C.jsxs(C.Fragment,{children:[v&&C.jsx(AN,{scores:v.writingScores,isDark:U}),C.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-xl border border-slate-200 dark:border-slate-800 p-10 flex flex-col gap-8",children:[C.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] flex items-center gap-3",children:[C.jsx(Oh,{size:16,className:"text-indigo-500"})," Forensic Metrics"]}),C.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[C.jsx(Bh,{value:(v==null?void 0:v.originalityScore)??0,label:"Originality",color:"#4f46e5",isDark:U}),C.jsx(Bh,{value:(v==null?void 0:v.aiScore)??0,label:"Humanity",color:"#10b981",isDark:U})]})]}),v&&C.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 to-violet-950 text-white rounded-[3rem] p-12 relative overflow-hidden group shadow-2xl",children:[C.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-20 transition-opacity pointer-events-none"}),C.jsx(yu,{size:100,className:"absolute -right-5 -top-5 opacity-10"}),C.jsxs("div",{className:"relative z-10",children:[C.jsxs("h3",{className:"text-[10px] font-black text-indigo-300 uppercase tracking-[0.3em] mb-8 flex items-center gap-2",children:[C.jsx(gu,{size:14,className:"animate-pulse"})," Neural Verdict"]}),C.jsxs("p",{className:"text-xl font-bold italic mb-10 leading-relaxed opacity-95",children:['"',v.summary,'"']}),(v.similarityScore>5||v.writingScores.conciseness>0)&&C.jsxs("button",{onClick:Re,disabled:D,className:"w-full py-5 bg-white text-indigo-950 font-black rounded-2xl shadow-xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3 text-[10px] tracking-[0.2em] uppercase active:scale-95",children:[C.jsx(Zp,{size:18,className:D?"animate-spin":"animate-pulse text-indigo-500"})," HUMAN-SIGNATURE REWRITE"]})]})]}),v&&v.sources.length>0&&C.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] border border-slate-200 dark:border-slate-800 p-10 shadow-sm",children:[C.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] mb-10 flex items-center gap-2",children:[C.jsx(Fh,{size:14,className:"text-indigo-500"})," Source Evidence"]}),C.jsx("div",{className:"space-y-6",children:v.sources.slice(0,3).map((I,B)=>C.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-[2rem] border border-slate-100 dark:border-slate-700 hover:border-indigo-200 dark:hover:border-indigo-900 transition-all group cursor-pointer shadow-sm",children:[C.jsx("h5",{className:"text-[11px] font-black mb-1.5 line-clamp-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors uppercase tracking-tight",children:I.title}),C.jsx("p",{className:"text-[9px] text-slate-400 truncate mb-5 font-bold uppercase tracking-tighter",children:I.uri}),C.jsxs("a",{href:I.uri,target:"_blank",className:"text-[10px] font-black text-indigo-500 flex items-center gap-2 hover:underline tracking-[0.1em] uppercase",children:[C.jsx(Kh,{size:12})," OPEN EVIDENCE"]})]},B))})]})]})})]})]}):C.jsx(NN,{type:r,toggleType:()=>f(r==="login"?"signup":"login"),onAuthSuccess:t})},Bg=document.getElementById("root");if(!Bg)throw new Error("Could not find root element to mount to");const bN=cT.createRoot(Bg);bN.render(C.jsx(Yh.StrictMode,{children:C.jsx(RN,{})}));
